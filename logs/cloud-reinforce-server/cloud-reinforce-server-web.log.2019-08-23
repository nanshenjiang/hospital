2019-08-23 19:05:52,551 INFO 7508 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:05:55,628 INFO 14188 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:06:48,165 INFO 3748 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:14:41,410 INFO 10488 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:14:46,194 INFO 4848 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:15:14,265 INFO 4848 [egg-sequelize](1ms) Executed (bb8d337b-3e1c-4fef-b490-bee30cc6c73f): START TRANSACTION;
2019-08-23 19:15:14,289 INFO 4848 [egg-sequelize](2ms) Executed (bb8d337b-3e1c-4fef-b490-bee30cc6c73f): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building` WHERE `building`.`id` = '3407eac0c4f011e9bbbc452598c50687';
2019-08-23 19:15:14,307 INFO 4848 [egg-sequelize](1ms) Executed (bb8d337b-3e1c-4fef-b490-bee30cc6c73f): UPDATE `buildings` SET `photoUrl`='\\public\\image\\hosptial\\building\\1566558914345.jpg',`name`='3' WHERE `id` = '3407eac0c4f011e9bbbc452598c50687'
2019-08-23 19:15:14,523 INFO 4848 [egg-sequelize](209ms) Executed (bb8d337b-3e1c-4fef-b490-bee30cc6c73f): COMMIT;
2019-08-23 19:16:31,324 ERROR 4848 [-/127.0.0.1/-/0ms GET /] nodejs.TypeError: Cannot read property 'filename' of undefined
    at BuildingController.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:100:43)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at limit (D:\nodejs\nodejs\node_project\hospital\app\middleware\limit.js:32:11)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\middleware\multipart.js:9:12)
    at process._tickCallback (internal/process/next_tick.js:68:7)

pid: 4848
hostname: LAPTOP-57LT11PC

2019-08-23 19:17:21,734 INFO 16100 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:17:25,181 INFO 16100 [egg-sequelize](1ms) Executed (d8a0a312-5fcf-4067-a6dd-2f354fa8e0e2): START TRANSACTION;
2019-08-23 19:17:25,193 INFO 16100 [egg-sequelize](1ms) Executed (d8a0a312-5fcf-4067-a6dd-2f354fa8e0e2): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building` WHERE `building`.`id` = '3407eac0c4f011e9bbbc452598c50687';
2019-08-23 19:17:25,212 INFO 16100 [egg-sequelize](1ms) Executed (d8a0a312-5fcf-4067-a6dd-2f354fa8e0e2): UPDATE `buildings` SET `name`='2' WHERE `id` = '3407eac0c4f011e9bbbc452598c50687'
2019-08-23 19:17:25,419 INFO 16100 [egg-sequelize](199ms) Executed (d8a0a312-5fcf-4067-a6dd-2f354fa8e0e2): COMMIT;
2019-08-23 19:18:32,469 ERROR 16100 [-/127.0.0.1/-/0ms GET /] nodejs.TypeError: the multipart request can't be consumed twice
    at Object.multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\extend\context.js:155:35)
    at Object.getFileStream (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\extend\context.js:193:24)
    at BuildingController.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:35:26)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at limit (D:\nodejs\nodejs\node_project\hospital\app\middleware\limit.js:32:11)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\middleware\multipart.js:9:12)

pid: 16100
hostname: LAPTOP-57LT11PC

2019-08-23 19:20:22,609 INFO 15180 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:21:49,244 INFO 13764 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:22:30,573 INFO 13348 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:23:45,081 ERROR 13348 [-/127.0.0.1/-/1ms GET /] nodejs.ReferenceError: path is not defined
    at TestController.upload (D:\nodejs\nodejs\node_project\hospital\app\controller\test.js:11:42)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\middleware\multipart.js:9:12)
    at process._tickCallback (internal/process/next_tick.js:68:7)

pid: 13348
hostname: LAPTOP-57LT11PC

2019-08-23 19:24:18,555 INFO 10912 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:24:23,393 ERROR 10912 [-/127.0.0.1/-/0ms GET /] nodejs.TypeError: Cannot read property 'put' of undefined
    at TestController.upload (D:\nodejs\nodejs\node_project\hospital\app\controller\test.js:16:30)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\middleware\multipart.js:9:12)
    at process._tickCallback (internal/process/next_tick.js:68:7)

pid: 10912
hostname: LAPTOP-57LT11PC

2019-08-23 19:24:41,257 INFO 15448 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:24:44,679 ERROR 15448 [-/127.0.0.1/-/0ms GET /] nodejs.TypeError [ERR_INVALID_CALLBACK]: Callback must be a function
    at makeCallback (fs.js:136:11)
    at Object.unlink (fs.js:943:14)
    at TestController.upload (D:\nodejs\nodejs\node_project\hospital\app\controller\test.js:19:16)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\middleware\multipart.js:9:12)
    at process._tickCallback (internal/process/next_tick.js:68:7)

pid: 15448
hostname: LAPTOP-57LT11PC

2019-08-23 19:36:16,099 INFO 8508 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:38:12,401 INFO 8996 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:38:21,443 ERROR 8996 [-/127.0.0.1/-/0ms GET /] nodejs.TypeError: Cannot read property 'put' of undefined
    at TestController.upload (D:\nodejs\nodejs\node_project\hospital\app\controller\test.js:16:30)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\middleware\multipart.js:9:12)
    at process._tickCallback (internal/process/next_tick.js:68:7)

pid: 8996
hostname: LAPTOP-57LT11PC

2019-08-23 19:38:54,388 INFO 13644 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:39:08,312 INFO 3044 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:39:16,105 ERROR 3044 [-/127.0.0.1/-/0ms GET /] nodejs.TypeError: Cannot read property 'put' of undefined
    at TestController.upload (D:\nodejs\nodejs\node_project\hospital\app\controller\test.js:17:30)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\middleware\multipart.js:9:12)
    at process._tickCallback (internal/process/next_tick.js:68:7)

pid: 3044
hostname: LAPTOP-57LT11PC

2019-08-23 19:41:31,086 INFO 4508 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:42:12,444 ERROR 4508 [-/127.0.0.1/-/0ms GET /] nodejs.TypeError: Cannot read property 'put' of undefined
    at TestController.upload (D:\nodejs\nodejs\node_project\hospital\app\controller\test.js:17:30)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\middleware\multipart.js:9:12)
    at process._tickCallback (internal/process/next_tick.js:68:7)

pid: 4508
hostname: LAPTOP-57LT11PC

2019-08-23 19:49:14,335 INFO 268 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:49:19,665 ERROR 268 [-/127.0.0.1/-/0ms GET /] nodejs.ReferenceError: path is not defined
    at TestController.upload (D:\nodejs\nodejs\node_project\hospital\app\controller\test.js:13:42)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\middleware\multipart.js:9:12)
    at process._tickCallback (internal/process/next_tick.js:68:7)

pid: 268
hostname: LAPTOP-57LT11PC

2019-08-23 19:53:35,325 INFO 15916 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:56:05,884 INFO 14156 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:56:06,145 WARN 14156 [-/127.0.0.1/-/25ms POST /test] save C:\Users\NJxie\AppData\Local\Temp\egg-multipart-tmp\cloud-reinforce-server\2019\08\23\19\7bcfd2bf-ed2c-4cbd-b6e2-11eb1a2da29d.jpg to D:\nodejs\nodejs\node_project\hospital\app\public\undefined.jpg
2019-08-23 19:56:06,165 ERROR 14156 [-/127.0.0.1/-/0ms GET /] nodejs.ReferenceError: res is not defined
    at TestController.upload (D:\nodejs\nodejs\node_project\hospital\app\controller\test.js:30:12)

pid: 14156
hostname: LAPTOP-57LT11PC

2019-08-23 19:56:32,998 INFO 15408 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 19:56:44,293 WARN 15408 [-/127.0.0.1/-/29ms POST /test] save C:\Users\NJxie\AppData\Local\Temp\egg-multipart-tmp\cloud-reinforce-server\2019\08\23\19\41f9b7b5-08cd-4b61-9314-de18c503e6c8.jpg to D:\nodejs\nodejs\node_project\hospital\app\public\undefined.jpg
2019-08-23 20:07:02,837 INFO 15220 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:07:06,515 INFO 15916 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:07:38,770 INFO 14584 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:07:49,051 INFO 14584 [egg-sequelize](1ms) Executed (886e618b-621f-4a49-8f9a-019cfdd55247): START TRANSACTION;
2019-08-23 20:07:49,073 INFO 14584 [egg-sequelize](1ms) Executed (886e618b-621f-4a49-8f9a-019cfdd55247): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building` WHERE `building`.`id` = '3407eac0c4f011e9bbbc452598c50687';
2019-08-23 20:07:49,076 INFO 14584 [egg-sequelize](0ms) Executed (886e618b-621f-4a49-8f9a-019cfdd55247): ROLLBACK;
2019-08-23 20:07:49,088 WARN 14584 [-/127.0.0.1/-/0ms GET /] nodejs.BadRequestError: Update Failed
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:97:20)
message: "Update Failed"
pid: 14584
hostname: LAPTOP-57LT11PC

2019-08-23 20:09:39,430 INFO 16196 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:09:49,633 INFO 16196 [egg-sequelize](1ms) Executed (37223c18-a6cf-408e-976c-418c52e1100e): START TRANSACTION;
2019-08-23 20:09:49,656 INFO 16196 [egg-sequelize](2ms) Executed (37223c18-a6cf-408e-976c-418c52e1100e): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building` WHERE `building`.`id` = 'b6718ca0c34711e9820363e5f3719826';
2019-08-23 20:09:49,679 INFO 16196 [egg-sequelize](2ms) Executed (37223c18-a6cf-408e-976c-418c52e1100e): UPDATE `buildings` SET `name`='2' WHERE `id` = 'b6718ca0c34711e9820363e5f3719826'
2019-08-23 20:09:49,832 INFO 16196 [egg-sequelize](147ms) Executed (37223c18-a6cf-408e-976c-418c52e1100e): COMMIT;
2019-08-23 20:11:42,593 ERROR 16196 [-/127.0.0.1/-/0ms GET /] nodejs.ReferenceError: res is not defined
    at BuildingController.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:125:14)
    at process._tickCallback (internal/process/next_tick.js:68:7)

pid: 16196
hostname: LAPTOP-57LT11PC

2019-08-23 20:12:17,480 INFO 11940 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:12:30,779 INFO 11940 [egg-sequelize](1ms) Executed (620094f4-12d8-4c14-aef2-5704344e1025): START TRANSACTION;
2019-08-23 20:12:30,799 INFO 11940 [egg-sequelize](1ms) Executed (620094f4-12d8-4c14-aef2-5704344e1025): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building` WHERE `building`.`id` = 'b6718ca0c34711e9820363e5f3719826';
2019-08-23 20:12:30,811 INFO 11940 [egg-sequelize](0ms) Executed (620094f4-12d8-4c14-aef2-5704344e1025): UPDATE `buildings` SET `photoUrl`='\\public\\image\\hosptial\\building\\1566562351811.jpg' WHERE `id` = 'b6718ca0c34711e9820363e5f3719826'
2019-08-23 20:12:30,968 INFO 11940 [egg-sequelize](151ms) Executed (620094f4-12d8-4c14-aef2-5704344e1025): COMMIT;
2019-08-23 20:13:23,977 INFO 11940 [egg-sequelize](0ms) Executed (79d0b7cd-f3a9-4385-9543-168fb0968b3c): START TRANSACTION;
2019-08-23 20:13:23,984 INFO 11940 [egg-sequelize](2ms) Executed (79d0b7cd-f3a9-4385-9543-168fb0968b3c): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building` WHERE `building`.`id` = 'b6718ca0c34711e9820363e5f3719826';
2019-08-23 20:13:23,992 INFO 11940 [egg-sequelize](0ms) Executed (79d0b7cd-f3a9-4385-9543-168fb0968b3c): COMMIT;
2019-08-23 20:13:28,832 INFO 11940 [egg-sequelize](0ms) Executed (d8442430-6aee-41b9-8e69-fb47814c5eeb): START TRANSACTION;
2019-08-23 20:13:28,835 INFO 11940 [egg-sequelize](0ms) Executed (d8442430-6aee-41b9-8e69-fb47814c5eeb): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building` WHERE `building`.`id` = 'b6718ca0c34711e9820363e5f3719826';
2019-08-23 20:13:28,838 INFO 11940 [egg-sequelize](1ms) Executed (d8442430-6aee-41b9-8e69-fb47814c5eeb): ROLLBACK;
2019-08-23 20:13:28,840 WARN 11940 [-/127.0.0.1/-/0ms GET /] nodejs.BadRequestError: Update Failed
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:97:20)
message: "Update Failed"
pid: 11940
hostname: LAPTOP-57LT11PC

2019-08-23 20:14:31,514 INFO 1712 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:16:49,608 INFO 1840 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:17:00,498 INFO 1840 [egg-sequelize](1ms) Executed (920a0c55-117f-48d2-9337-9436cc57711a): START TRANSACTION;
2019-08-23 20:17:00,570 INFO 1840 [egg-sequelize](4ms) Executed (920a0c55-117f-48d2-9337-9436cc57711a): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building` WHERE `building`.`id` = 'b6718ca0c34711e9820363e5f3719826';
2019-08-23 20:17:00,805 INFO 1840 [egg-sequelize](1ms) Executed (920a0c55-117f-48d2-9337-9436cc57711a): UPDATE `buildings` SET `photoUrl`='\\public\\image\\hosptial\\building\\1566562620805.jpg',`name`='3' WHERE `id` = 'b6718ca0c34711e9820363e5f3719826'
2019-08-23 20:17:00,954 INFO 1840 [egg-sequelize](138ms) Executed (920a0c55-117f-48d2-9337-9436cc57711a): COMMIT;
2019-08-23 20:17:15,123 INFO 1840 [egg-sequelize](1ms) Executed (3e37a9f5-381a-4ca5-a8ce-5395755002ee): START TRANSACTION;
2019-08-23 20:17:15,131 INFO 1840 [egg-sequelize](1ms) Executed (3e37a9f5-381a-4ca5-a8ce-5395755002ee): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building` WHERE `building`.`id` = 'b6718ca0c34711e9820363e5f3719826';
2019-08-23 20:17:15,255 INFO 1840 [egg-sequelize](1ms) Executed (3e37a9f5-381a-4ca5-a8ce-5395755002ee): UPDATE `buildings` SET `name`='22' WHERE `id` = 'b6718ca0c34711e9820363e5f3719826'
2019-08-23 20:17:15,344 INFO 1840 [egg-sequelize](79ms) Executed (3e37a9f5-381a-4ca5-a8ce-5395755002ee): COMMIT;
2019-08-23 20:17:50,049 INFO 9752 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:23:50,904 INFO 10780 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:23:54,578 INFO 2656 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:24:05,242 INFO 2656 [egg-sequelize](1ms) Executed (754c6cad-5339-4fe6-b1f6-76c1c00da092): START TRANSACTION;
2019-08-23 20:24:05,256 INFO 2656 [egg-sequelize](2ms) Executed (754c6cad-5339-4fe6-b1f6-76c1c00da092): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building` WHERE `building`.`id` = 'b6718ca0c34711e9820363e5f3719826';
2019-08-23 20:24:05,269 INFO 2656 [egg-sequelize](1ms) Executed (754c6cad-5339-4fe6-b1f6-76c1c00da092): UPDATE `buildings` SET `photoUrl`='\\public\\image\\hosptial\\building\\1566563050961.jpg' WHERE `id` = 'b6718ca0c34711e9820363e5f3719826'
2019-08-23 20:24:05,397 INFO 2656 [egg-sequelize](126ms) Executed (754c6cad-5339-4fe6-b1f6-76c1c00da092): COMMIT;
2019-08-23 20:26:56,720 INFO 1360 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:27:14,083 INFO 1360 [egg-sequelize](0ms) Executed (ab7ec0da-e27e-45ae-a8e9-063d578cc244): START TRANSACTION;
2019-08-23 20:27:14,088 INFO 1360 [egg-sequelize](0ms) Executed (ab7ec0da-e27e-45ae-a8e9-063d578cc244): ROLLBACK;
2019-08-23 20:27:14,090 WARN 1360 [-/127.0.0.1/-/0ms GET /] nodejs.BadRequestError: Update Failed
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:70:20)
message: "Update Failed"
pid: 1360
hostname: LAPTOP-57LT11PC

2019-08-23 20:27:29,182 INFO 7936 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:27:44,403 INFO 7936 [egg-sequelize](1ms) Executed (b4a52d34-b6b7-4b46-8505-c14bd89831aa): START TRANSACTION;
2019-08-23 20:27:44,409 INFO 7936 [egg-sequelize](0ms) Executed (b4a52d34-b6b7-4b46-8505-c14bd89831aa): ROLLBACK;
2019-08-23 20:27:44,420 WARN 7936 [-/127.0.0.1/-/1ms GET /] nodejs.BadRequestError: Update Failed
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:70:20)
message: "Update Failed"
pid: 7936
hostname: LAPTOP-57LT11PC

2019-08-23 20:29:05,390 INFO 10584 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:29:18,001 INFO 10584 [egg-sequelize](2ms) Executed (c351124d-ca3f-40a7-8bd9-8262c76c974b): START TRANSACTION;
2019-08-23 20:29:18,067 INFO 10584 [egg-sequelize](3ms) Executed (c351124d-ca3f-40a7-8bd9-8262c76c974b): ROLLBACK;
2019-08-23 20:29:18,104 WARN 10584 [-/127.0.0.1/-/1ms GET /] nodejs.BadRequestError: Update Failed
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:71:20)
message: "Update Failed"
pid: 10584
hostname: LAPTOP-57LT11PC

2019-08-23 20:30:25,023 INFO 844 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:30:30,140 INFO 16364 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:30:33,776 ERROR 16364 [-/127.0.0.1/-/0ms GET /] nodejs.TypeError: this.build(...).save is not a function
    at Function.create (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:2023:8)
    at BuildingService.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:63:46)
    at BuildingController.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:80:38)

pid: 16364
hostname: LAPTOP-57LT11PC

2019-08-23 20:32:38,833 INFO 15116 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:33:12,111 INFO 14660 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:33:18,399 ERROR 14660 [-/127.0.0.1/-/1ms GET /] nodejs.ReferenceError: t is not defined
    at BuildingService.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:63:75)
    at BuildingController.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:80:38)

pid: 14660
hostname: LAPTOP-57LT11PC

2019-08-23 20:33:36,324 INFO 8000 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:33:47,377 ERROR 8000 [-/127.0.0.1/-/0ms GET /] nodejs.TypeError: this.build(...).save is not a function
    at Function.create (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:2023:8)
    at BuildingService.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:63:46)
    at BuildingController.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:80:38)

pid: 8000
hostname: LAPTOP-57LT11PC

2019-08-23 20:36:33,779 ERROR 8000 [-/127.0.0.1/-/0ms GET /] nodejs.TypeError: the multipart request can't be consumed twice
    at Object.multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\extend\context.js:155:35)
    at Object.getFileStream (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\extend\context.js:193:24)
    at BuildingController.saveFloor (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:167:26)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at limit (D:\nodejs\nodejs\node_project\hospital\app\middleware\limit.js:32:11)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\middleware\multipart.js:9:12)

pid: 8000
hostname: LAPTOP-57LT11PC

2019-08-23 20:38:10,152 ERROR 8000 [-/127.0.0.1/-/0ms GET /] nodejs.TypeError: the multipart request can't be consumed twice
    at Object.multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\extend\context.js:155:35)
    at Object.getFileStream (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\extend\context.js:193:24)
    at BuildingController.saveFloor (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:167:26)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at limit (D:\nodejs\nodejs\node_project\hospital\app\middleware\limit.js:32:11)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\middleware\multipart.js:9:12)

pid: 8000
hostname: LAPTOP-57LT11PC

2019-08-23 20:38:35,563 ERROR 8000 [-/127.0.0.1/-/1ms GET /] nodejs.TypeError: this.build(...).save is not a function
    at Function.create (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:2023:8)
    at BuildingService.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:63:46)
    at BuildingController.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:80:38)

pid: 8000
hostname: LAPTOP-57LT11PC

2019-08-23 20:39:42,384 INFO 8000 [egg-sequelize](1ms) Executed (c2089311-e6ce-4746-afb6-a155ff4df922): START TRANSACTION;
2019-08-23 20:39:42,493 INFO 8000 [egg-sequelize](95ms) Executed (c2089311-e6ce-4746-afb6-a155ff4df922): INSERT INTO `firstOffices` (`id`,`name`) VALUES ('1462c830c5a311e99f01fd1d1ad5cd50','1');
2019-08-23 20:39:42,587 INFO 8000 [egg-sequelize](89ms) Executed (c2089311-e6ce-4746-afb6-a155ff4df922): COMMIT;
2019-08-23 20:41:07,727 INFO 13224 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:41:10,039 INFO 13224 [egg-sequelize](1ms) Executed (f86b4699-a3c3-42d6-82d9-5b2607f4427d): START TRANSACTION;
2019-08-23 20:41:10,051 INFO 13224 [egg-sequelize](1ms) Executed (f86b4699-a3c3-42d6-82d9-5b2607f4427d): INSERT INTO `firstOffices` (`id`,`name`) VALUES ('48a1dfa0c5a311e9bc8f0d78229475d4','1');
2019-08-23 20:41:10,302 INFO 13224 [egg-sequelize](241ms) Executed (f86b4699-a3c3-42d6-82d9-5b2607f4427d): COMMIT;
2019-08-23 20:41:11,472 INFO 15976 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:41:35,494 ERROR 15976 [-/127.0.0.1/-/0ms GET /] nodejs.TypeError: this.build(...).save is not a function
    at Function.create (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:2023:8)
    at BuildingService.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:63:46)
    at BuildingController.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:80:38)

pid: 15976
hostname: LAPTOP-57LT11PC

2019-08-23 20:42:38,480 ERROR 15976 [-/127.0.0.1/-/0ms GET /] nodejs.TypeError: this.build(...).save is not a function
    at Function.create (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:2023:8)
    at BuildingService.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:63:46)
    at BuildingController.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:80:38)

pid: 15976
hostname: LAPTOP-57LT11PC

2019-08-23 20:45:44,556 INFO 15808 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:45:47,520 INFO 15808 [egg-sequelize](1ms) Executed (05b07be8-806d-44b4-adf0-174c0101e112): START TRANSACTION;
2019-08-23 20:45:47,571 INFO 15808 [egg-sequelize](1ms) Executed (05b07be8-806d-44b4-adf0-174c0101e112): INSERT INTO `firstOffices` (`id`,`name`) VALUES ('ee0aff30c5a311e9a4923fc1324d9991','1');
2019-08-23 20:45:47,703 INFO 15808 [egg-sequelize](121ms) Executed (05b07be8-806d-44b4-adf0-174c0101e112): COMMIT;
2019-08-23 20:46:08,445 INFO 14688 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:46:12,679 INFO 14688 [egg-sequelize](144ms) Executed (default): INSERT INTO `buildings` (`id`,`name`,`photoUrl`,`isMain`) VALUES ('fcebe550c5a311e981d91750ef821998','1','\\public\\image\\hosptial\\building\\1566564382481.jpg',false);
2019-08-23 20:46:50,511 INFO 14688 [egg-sequelize](171ms) Executed (default): INSERT INTO `buildings` (`id`,`name`,`isMain`) VALUES ('13764fe0c5a411e981d91750ef821998','1',false);
2019-08-23 20:47:13,375 INFO 16120 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:47:23,274 INFO 14728 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:47:44,944 INFO 15708 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:51:17,643 INFO 13824 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:54:10,783 INFO 13824 [egg-sequelize](1ms) Executed (4d35c5ae-27a0-467c-b367-372c0f65150e): START TRANSACTION;
2019-08-23 20:54:10,821 INFO 13824 [egg-sequelize](1ms) Executed (4d35c5ae-27a0-467c-b367-372c0f65150e): INSERT INTO `buildings` (`id`,`photoUrl`,`isMain`) VALUES ('1a014f80c5a511e99bae133613412a76','\\public\\image\\hosptial\\building\\1566564857032.jpg',false);
2019-08-23 20:56:18,324 INFO 13824 [egg-sequelize](1ms) Executed (c88629e2-c64b-434c-be6d-be5f2c0eaffb): START TRANSACTION;
2019-08-23 20:56:18,339 INFO 13824 [egg-sequelize](2ms) Executed (c88629e2-c64b-434c-be6d-be5f2c0eaffb): INSERT INTO `buildings` (`id`,`photoUrl`,`isMain`) VALUES ('6603c6b0c5a511e99bae133613412a76','\\public\\image\\hosptial\\building\\1566564982658.jpg',false);
2019-08-23 20:56:41,115 INFO 13824 [egg-sequelize](1ms) Executed (233cf908-6b84-4764-8246-a9247fc51271): START TRANSACTION;
2019-08-23 20:56:41,128 INFO 13824 [egg-sequelize](2ms) Executed (233cf908-6b84-4764-8246-a9247fc51271): INSERT INTO `buildings` (`id`,`name`,`photoUrl`,`isMain`) VALUES ('73994110c5a511e99bae133613412a76','1','\\public\\image\\hosptial\\building\\1566565008265.jpg',false);
2019-08-23 20:58:15,469 INFO 8988 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:58:25,155 INFO 10676 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 20:59:01,445 INFO 10676 [egg-sequelize](1ms) Executed (c57514c5-2b77-499c-81c9-172537fcb80a): START TRANSACTION;
2019-08-23 20:59:01,527 INFO 10676 [egg-sequelize](2ms) Executed (c57514c5-2b77-499c-81c9-172537fcb80a): INSERT INTO `buildings` (`id`,`name`,`photoUrl`,`isMain`) VALUES ('c744c780c5a511e99729c7db0c34bcff','1','\\public\\image\\hosptial\\building\\1566565143485.jpg',false);
2019-08-23 20:59:01,646 INFO 10676 [egg-sequelize](93ms) Executed (c57514c5-2b77-499c-81c9-172537fcb80a): COMMIT;
2019-08-23 20:59:08,867 INFO 10676 [egg-sequelize](1ms) Executed (c4a8b903-c517-4cc1-80a8-02edb69003ee): START TRANSACTION;
2019-08-23 20:59:08,881 INFO 10676 [egg-sequelize](1ms) Executed (c4a8b903-c517-4cc1-80a8-02edb69003ee): INSERT INTO `buildings` (`id`,`name`,`isMain`) VALUES ('cbaa6b90c5a511e99729c7db0c34bcff','1',false);
2019-08-23 20:59:09,085 INFO 10676 [egg-sequelize](198ms) Executed (c4a8b903-c517-4cc1-80a8-02edb69003ee): COMMIT;
2019-08-23 20:59:15,514 INFO 10676 [egg-sequelize](1ms) Executed (7c9a47d2-1a8a-4b8e-b28a-a9952913fca1): START TRANSACTION;
2019-08-23 20:59:15,526 INFO 10676 [egg-sequelize](1ms) Executed (7c9a47d2-1a8a-4b8e-b28a-a9952913fca1): INSERT INTO `buildings` (`id`,`photoUrl`,`isMain`) VALUES ('cfa0ac00c5a511e99729c7db0c34bcff','\\public\\image\\hosptial\\building\\1566565157955.jpg',false);
2019-08-23 20:59:15,726 INFO 10676 [egg-sequelize](195ms) Executed (7c9a47d2-1a8a-4b8e-b28a-a9952913fca1): COMMIT;
2019-08-23 20:59:24,724 INFO 10676 [egg-sequelize](2ms) Executed (fa54cd7b-c7ba-41e5-943a-37f5fef46b29): START TRANSACTION;
2019-08-23 20:59:24,741 INFO 10676 [egg-sequelize](3ms) Executed (fa54cd7b-c7ba-41e5-943a-37f5fef46b29): INSERT INTO `buildings` (`id`,`isMain`) VALUES ('d51e01a0c5a511e99729c7db0c34bcff',false);
2019-08-23 20:59:25,014 INFO 10676 [egg-sequelize](221ms) Executed (fa54cd7b-c7ba-41e5-943a-37f5fef46b29): COMMIT;
2019-08-23 21:00:23,822 INFO 10044 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:00:32,318 INFO 7320 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:01:45,010 INFO 4308 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:01:53,684 INFO 7936 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:02:51,388 INFO 7936 [egg-sequelize](2ms) Executed (c4d1ab70-144f-4d28-a673-068173dbfdda): START TRANSACTION;
2019-08-23 21:02:51,422 INFO 7936 [egg-sequelize](1ms) Executed (c4d1ab70-144f-4d28-a673-068173dbfdda): ROLLBACK;
2019-08-23 21:02:51,441 WARN 7936 [-/127.0.0.1/-/0ms GET /] nodejs.BadRequestError: Update Failed
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.saveFloor (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:187:18)
message: "Update Failed"
pid: 7936
hostname: LAPTOP-57LT11PC

2019-08-23 21:03:21,986 INFO 12156 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:03:37,702 INFO 11148 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:03:59,798 INFO 11148 [egg-sequelize](1ms) Executed (26117431-3eca-43a4-bfd7-7e5415fae840): START TRANSACTION;
2019-08-23 21:03:59,837 INFO 11148 [egg-sequelize](4ms) Executed (26117431-3eca-43a4-bfd7-7e5415fae840): INSERT INTO `floors` (`id`,`name`,`buildingId`) VALUES ('791345e0c5a611e9954d9ba6586d1b4b','1','1');
2019-08-23 21:03:59,993 INFO 11148 [egg-sequelize](145ms) Executed (26117431-3eca-43a4-bfd7-7e5415fae840): COMMIT;
2019-08-23 21:04:22,165 INFO 11148 [egg-sequelize](1ms) Executed (34dc0c4d-8956-4885-8624-b9b8842d368e): START TRANSACTION;
2019-08-23 21:04:22,177 INFO 11148 [egg-sequelize](2ms) Executed (34dc0c4d-8956-4885-8624-b9b8842d368e): INSERT INTO `floors` (`id`,`name`,`photoUrl`,`buildingId`) VALUES ('86679890c5a611e9954d9ba6586d1b4b','1','\\public\\image\\hosptial\\building\\floors\\1566565467387.jpg','1');
2019-08-23 21:04:22,468 INFO 11148 [egg-sequelize](252ms) Executed (34dc0c4d-8956-4885-8624-b9b8842d368e): COMMIT;
2019-08-23 21:05:01,582 ERROR 11148 [-/127.0.0.1/-/0ms GET /] nodejs.ReferenceError: building is not defined
    at BuildingController.updateFloor (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:267:19)

pid: 11148
hostname: LAPTOP-57LT11PC

2019-08-23 21:05:25,052 INFO 5960 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:05:30,344 ERROR 5960 [-/127.0.0.1/-/0ms GET /] nodejs.ReferenceError: building is not defined
    at BuildingController.updateFloor (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:267:55)

pid: 5960
hostname: LAPTOP-57LT11PC

2019-08-23 21:05:32,669 INFO 12680 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:05:57,907 INFO 13868 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:06:03,665 INFO 13868 [egg-sequelize](1ms) Executed (651ec399-3cd4-4ab4-9b13-9e598a6fab14): START TRANSACTION;
2019-08-23 21:06:03,740 INFO 13868 [egg-sequelize](5ms) Executed (651ec399-3cd4-4ab4-9b13-9e598a6fab14): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`id` = '86679890c5a611e9954d9ba6586d1b4b';
2019-08-23 21:06:03,792 INFO 13868 [egg-sequelize](2ms) Executed (651ec399-3cd4-4ab4-9b13-9e598a6fab14): UPDATE `floors` SET `photoUrl`='\\public\\image\\hosptial\\building\\floors\\1566565568896.jpg',`name`='21' WHERE `id` = '86679890c5a611e9954d9ba6586d1b4b'
2019-08-23 21:06:03,981 INFO 13868 [egg-sequelize](159ms) Executed (651ec399-3cd4-4ab4-9b13-9e598a6fab14): COMMIT;
2019-08-23 21:06:26,666 INFO 13868 [egg-sequelize](1ms) Executed (2c31d028-32d6-4bd3-bcbd-4ca275270a34): START TRANSACTION;
2019-08-23 21:06:26,677 INFO 13868 [egg-sequelize](2ms) Executed (2c31d028-32d6-4bd3-bcbd-4ca275270a34): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`id` = '86679890c5a611e9954d9ba6586d1b4b';
2019-08-23 21:06:26,692 INFO 13868 [egg-sequelize](3ms) Executed (2c31d028-32d6-4bd3-bcbd-4ca275270a34): UPDATE `floors` SET `photoUrl`='\\public\\image\\hosptial\\building\\floors\\1566565587103.jpg',`name`='2' WHERE `id` = '86679890c5a611e9954d9ba6586d1b4b'
2019-08-23 21:06:26,881 INFO 13868 [egg-sequelize](141ms) Executed (2c31d028-32d6-4bd3-bcbd-4ca275270a34): COMMIT;
2019-08-23 21:06:29,880 INFO 13868 [egg-sequelize](0ms) Executed (d859b20d-2725-4b75-b4c9-46e21563c92d): START TRANSACTION;
2019-08-23 21:06:29,889 INFO 13868 [egg-sequelize](2ms) Executed (d859b20d-2725-4b75-b4c9-46e21563c92d): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`id` = '86679890c5a611e9954d9ba6586d1b4b';
2019-08-23 21:06:29,900 INFO 13868 [egg-sequelize](1ms) Executed (d859b20d-2725-4b75-b4c9-46e21563c92d): UPDATE `floors` SET `name`='2' WHERE `id` = '86679890c5a611e9954d9ba6586d1b4b'
2019-08-23 21:06:29,945 INFO 13868 [egg-sequelize](2ms) Executed (d859b20d-2725-4b75-b4c9-46e21563c92d): COMMIT;
2019-08-23 21:06:40,057 INFO 13868 [egg-sequelize](1ms) Executed (a7cdea00-a488-4831-bb20-1278953cc8c9): START TRANSACTION;
2019-08-23 21:06:40,065 INFO 13868 [egg-sequelize](1ms) Executed (a7cdea00-a488-4831-bb20-1278953cc8c9): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`id` = '86679890c5a611e9954d9ba6586d1b4b';
2019-08-23 21:06:40,084 INFO 13868 [egg-sequelize](0ms) Executed (a7cdea00-a488-4831-bb20-1278953cc8c9): ROLLBACK;
2019-08-23 21:06:40,120 WARN 13868 [-/127.0.0.1/-/0ms GET /] nodejs.BadRequestError: Update Failed
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.updateFloor (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:217:18)
message: "Update Failed"
pid: 13868
hostname: LAPTOP-57LT11PC

2019-08-23 21:07:43,993 INFO 13868 [egg-sequelize](1ms) Executed (ec067005-52b3-43fb-921a-14c8cfc935f3): START TRANSACTION;
2019-08-23 21:07:44,007 INFO 13868 [egg-sequelize](4ms) Executed (ec067005-52b3-43fb-921a-14c8cfc935f3): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`id` = '791345e0c5a611e9954d9ba6586d1b4b';
2019-08-23 21:07:44,043 INFO 13868 [egg-sequelize](23ms) Executed (ec067005-52b3-43fb-921a-14c8cfc935f3): UPDATE `floors` SET `photoUrl`='\\public\\image\\hosptial\\building\\floors\\1566565665877.jpg',`name`='22' WHERE `id` = '791345e0c5a611e9954d9ba6586d1b4b'
2019-08-23 21:07:44,192 INFO 13868 [egg-sequelize](137ms) Executed (ec067005-52b3-43fb-921a-14c8cfc935f3): COMMIT;
2019-08-23 21:07:57,755 INFO 13868 [egg-sequelize](1ms) Executed (c8bc3775-725b-483e-9ac9-2bb94682408b): START TRANSACTION;
2019-08-23 21:07:57,781 INFO 13868 [egg-sequelize](2ms) Executed (c8bc3775-725b-483e-9ac9-2bb94682408b): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`id` = '791345e0c5a611e9954d9ba6586d1b4b';
2019-08-23 21:07:57,831 INFO 13868 [egg-sequelize](2ms) Executed (c8bc3775-725b-483e-9ac9-2bb94682408b): UPDATE `floors` SET `photoUrl`='\\public\\image\\hosptial\\building\\floors\\1566565678415.jpg',`name`='22' WHERE `id` = '791345e0c5a611e9954d9ba6586d1b4b'
2019-08-23 21:07:57,961 INFO 13868 [egg-sequelize](72ms) Executed (c8bc3775-725b-483e-9ac9-2bb94682408b): COMMIT;
2019-08-23 21:08:39,286 INFO 13868 [egg-sequelize](1ms) Executed (4878180c-2208-4183-ac76-df71d55fe62b): START TRANSACTION;
2019-08-23 21:08:39,354 INFO 13868 [egg-sequelize](2ms) Executed (4878180c-2208-4183-ac76-df71d55fe62b): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`id` = '791345e0c5a611e9954d9ba6586d1b4b';
2019-08-23 21:08:39,408 INFO 13868 [egg-sequelize](1ms) Executed (4878180c-2208-4183-ac76-df71d55fe62b): DELETE FROM `floors` WHERE `id` = '791345e0c5a611e9954d9ba6586d1b4b' LIMIT 1
2019-08-23 21:08:39,709 INFO 13868 [egg-sequelize](209ms) Executed (4878180c-2208-4183-ac76-df71d55fe62b): COMMIT;
2019-08-23 21:08:59,549 INFO 13868 [egg-sequelize](1ms) Executed (3451c55e-0aff-4a42-b0e2-3e111d728536): START TRANSACTION;
2019-08-23 21:08:59,585 INFO 13868 [egg-sequelize](5ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-23 21:08:59,685 INFO 13868 [egg-sequelize](2ms) Executed (3451c55e-0aff-4a42-b0e2-3e111d728536): DELETE FROM `floors` WHERE `id` = '86679890c5a611e9954d9ba6586d1b4b' LIMIT 1
2019-08-23 21:08:59,738 INFO 13868 [egg-sequelize](2ms) Executed (3451c55e-0aff-4a42-b0e2-3e111d728536): DELETE FROM `buildings` WHERE `id` = '1' LIMIT 1
2019-08-23 21:08:59,906 INFO 13868 [egg-sequelize](162ms) Executed (3451c55e-0aff-4a42-b0e2-3e111d728536): COMMIT;
2019-08-23 21:09:32,286 INFO 13868 [egg-sequelize](1ms) Executed (e5338ceb-e79e-420f-8ed9-6529a5b7a9d5): START TRANSACTION;
2019-08-23 21:09:32,305 INFO 13868 [egg-sequelize](2ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '13764fe0c5a411e981d91750ef821998';
2019-08-23 21:09:32,370 INFO 13868 [egg-sequelize](3ms) Executed (e5338ceb-e79e-420f-8ed9-6529a5b7a9d5): DELETE FROM `buildings` WHERE `id` = '13764fe0c5a411e981d91750ef821998' LIMIT 1
2019-08-23 21:09:32,683 INFO 13868 [egg-sequelize](209ms) Executed (e5338ceb-e79e-420f-8ed9-6529a5b7a9d5): COMMIT;
2019-08-23 21:09:44,346 INFO 13868 [egg-sequelize](1ms) Executed (5335d49e-8c4c-4dff-9d0f-ce2fc677ff85): START TRANSACTION;
2019-08-23 21:09:44,380 INFO 13868 [egg-sequelize](2ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = 'b6718ca0c34711e9820363e5f3719826';
2019-08-23 21:09:44,387 INFO 13868 [egg-sequelize](1ms) Executed (5335d49e-8c4c-4dff-9d0f-ce2fc677ff85): ROLLBACK;
2019-08-23 21:09:44,391 WARN 13868 [-/127.0.0.1/-/1ms GET /] nodejs.BadRequestError: Delete Failed
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.deleteBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:144:20)
message: "Delete Failed"
pid: 13868
hostname: LAPTOP-57LT11PC

2019-08-23 21:10:41,708 INFO 14512 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:10:45,824 INFO 14512 [egg-sequelize](2ms) Executed (8029f51f-3c1c-46c2-8096-febe97d5a3ee): START TRANSACTION;
2019-08-23 21:10:45,915 INFO 14512 [egg-sequelize](6ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = 'b6718ca0c34711e9820363e5f3719826';
2019-08-23 21:10:45,942 INFO 14512 [egg-sequelize](1ms) Executed (8029f51f-3c1c-46c2-8096-febe97d5a3ee): ROLLBACK;
2019-08-23 21:10:46,072 ERROR 14512 [-/127.0.0.1/-/1ms GET /] nodejs.InternalServerError: Internal Server Error
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.deleteBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:144:20)
message: "Internal Server Error"
pid: 14512
hostname: LAPTOP-57LT11PC

2019-08-23 21:10:49,366 INFO 15280 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:10:56,286 INFO 15280 [egg-sequelize](2ms) Executed (d44b9ab2-0078-465b-afcc-a05c91afd3bb): START TRANSACTION;
2019-08-23 21:10:56,376 INFO 15280 [egg-sequelize](7ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = 'b6718ca0c34711e9820363e5f3719826';
2019-08-23 21:10:56,399 INFO 15280 [egg-sequelize](1ms) Executed (d44b9ab2-0078-465b-afcc-a05c91afd3bb): ROLLBACK;
2019-08-23 21:10:56,562 ERROR 15280 [-/127.0.0.1/-/1ms GET /] nodejs.InternalServerError: Internal Server Error
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.deleteBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:144:20)
message: "Internal Server Error"
pid: 15280
hostname: LAPTOP-57LT11PC

2019-08-23 21:11:44,587 INFO 10348 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:11:49,689 INFO 10348 [egg-sequelize](2ms) Executed (b6bdb631-518b-4f81-b39b-15f4114237a6): START TRANSACTION;
2019-08-23 21:11:49,810 INFO 10348 [egg-sequelize](7ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = 'b6718ca0c34711e9820363e5f3719826';
2019-08-23 21:11:49,830 INFO 10348 [egg-sequelize](1ms) Executed (b6bdb631-518b-4f81-b39b-15f4114237a6): ROLLBACK;
2019-08-23 21:11:49,869 WARN 10348 [-/127.0.0.1/-/0ms GET /] nodejs.BadRequestError: 医院总览图无法删除
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.deleteBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:144:20)
message: "医院总览图无法删除"
pid: 10348
hostname: LAPTOP-57LT11PC

2019-08-23 21:12:54,826 INFO 10348 [egg-sequelize](1ms) Executed (6d1768ec-5ddc-4897-b27e-0f714a7b8a17): START TRANSACTION;
2019-08-23 21:12:54,850 INFO 10348 [egg-sequelize](3ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = 'c744c780c5a511e99729c7db0c34bcff';
2019-08-23 21:12:54,884 INFO 10348 [egg-sequelize](2ms) Executed (6d1768ec-5ddc-4897-b27e-0f714a7b8a17): DELETE FROM `buildings` WHERE `id` = 'c744c780c5a511e99729c7db0c34bcff' LIMIT 1
2019-08-23 21:12:55,089 INFO 10348 [egg-sequelize](151ms) Executed (6d1768ec-5ddc-4897-b27e-0f714a7b8a17): COMMIT;
2019-08-23 21:13:56,386 INFO 13792 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:14:04,891 INFO 15912 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:15:31,219 ERROR 15912 [-/127.0.0.1/-/0ms GET /] nodejs.TypeError: the multipart request can't be consumed twice
    at Object.multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\extend\context.js:155:35)
    at Object.getFileStream (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\extend\context.js:193:24)
    at DoctorController.uploadAvatar (D:\nodejs\nodejs\node_project\hospital\app\controller\doctor.js:138:30)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at limit (D:\nodejs\nodejs\node_project\hospital\app\middleware\limit.js:32:11)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\middleware\multipart.js:9:12)

pid: 15912
hostname: LAPTOP-57LT11PC

2019-08-23 21:16:10,084 INFO 5896 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:20:56,468 INFO 9664 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:22:15,978 INFO 6632 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:23:20,075 INFO 14060 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:23:28,868 INFO 8608 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-23 21:23:35,040 INFO 8608 [egg-sequelize](2ms) Executed (519105f7-6e1c-474f-9ce1-c2b90e16fcde): START TRANSACTION;
2019-08-23 21:23:35,119 INFO 8608 [egg-sequelize](6ms) Executed (519105f7-6e1c-474f-9ce1-c2b90e16fcde): SELECT `id`, `name`, `avatarUrl`, `gender`, `post`, `title`, `resume`, `concurrent`, `achievement`, `speciality`, `secondOfficeId` FROM `doctors` AS `doctor` WHERE `doctor`.`id` = '1';
2019-08-23 21:23:35,167 INFO 8608 [egg-sequelize](5ms) Executed (519105f7-6e1c-474f-9ce1-c2b90e16fcde): UPDATE `doctors` SET `avatarUrl`='\\public\\image\\doctor\\face\\1566566623216.jpg' WHERE `id` = '1'
2019-08-23 21:23:35,379 INFO 8608 [egg-sequelize](187ms) Executed (519105f7-6e1c-474f-9ce1-c2b90e16fcde): COMMIT;
2019-08-23 21:23:48,960 INFO 8608 [egg-sequelize](1ms) Executed (bcb5e257-dac5-4ab4-8751-b3ec42c8c544): START TRANSACTION;
2019-08-23 21:23:48,971 INFO 8608 [egg-sequelize](3ms) Executed (bcb5e257-dac5-4ab4-8751-b3ec42c8c544): SELECT `id`, `name`, `avatarUrl`, `gender`, `post`, `title`, `resume`, `concurrent`, `achievement`, `speciality`, `secondOfficeId` FROM `doctors` AS `doctor` WHERE `doctor`.`id` = '1';
2019-08-23 21:23:49,023 INFO 8608 [egg-sequelize](2ms) Executed (bcb5e257-dac5-4ab4-8751-b3ec42c8c544): UPDATE `doctors` SET `avatarUrl`='\\public\\image\\doctor\\face\\1566566634860.jpg' WHERE `id` = '1'
2019-08-23 21:23:49,156 INFO 8608 [egg-sequelize](91ms) Executed (bcb5e257-dac5-4ab4-8751-b3ec42c8c544): COMMIT;
2019-08-23 22:47:01,730 INFO 6396 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 22:47:03,858 INFO 10916 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 22:47:44,158 INFO 10916 [egg-sequelize](844ms) Executed (default): DROP TABLE IF EXISTS `workInformations`;
2019-08-23 22:47:44,464 INFO 10916 [egg-sequelize](303ms) Executed (default): DROP TABLE IF EXISTS `users`;
2019-08-23 22:47:44,669 INFO 10916 [egg-sequelize](202ms) Executed (default): DROP TABLE IF EXISTS `roles`;
2019-08-23 22:47:44,705 INFO 10916 [egg-sequelize](34ms) Executed (default): DROP TABLE IF EXISTS `introducePhotos`;
2019-08-23 22:47:45,008 INFO 10916 [egg-sequelize](300ms) Executed (default): DROP TABLE IF EXISTS `floors`;
2019-08-23 22:47:45,235 INFO 10916 [egg-sequelize](224ms) Executed (default): DROP TABLE IF EXISTS `files`;
2019-08-23 22:47:45,413 INFO 10916 [egg-sequelize](176ms) Executed (default): DROP TABLE IF EXISTS `introductions`;
2019-08-23 22:47:45,806 INFO 10916 [egg-sequelize](391ms) Executed (default): DROP TABLE IF EXISTS `doctors`;
2019-08-23 22:47:46,073 INFO 10916 [egg-sequelize](265ms) Executed (default): DROP TABLE IF EXISTS `secondOffices`;
2019-08-23 22:47:46,257 INFO 10916 [egg-sequelize](182ms) Executed (default): DROP TABLE IF EXISTS `firstOffices`;
2019-08-23 22:47:46,434 INFO 10916 [egg-sequelize](175ms) Executed (default): DROP TABLE IF EXISTS `buildings`;
2019-08-23 22:47:46,612 INFO 10916 [egg-sequelize](176ms) Executed (default): DROP TABLE IF EXISTS `appkeys`;
2019-08-23 22:47:46,650 INFO 10916 [egg-sequelize](34ms) Executed (default): DROP TABLE IF EXISTS `appkeys`;
2019-08-23 22:47:47,024 INFO 10916 [egg-sequelize](369ms) Executed (default): CREATE TABLE IF NOT EXISTS `appkeys` (`id` CHAR(36) BINARY NOT NULL , `code` VARCHAR(64), `expire_at` DATETIME, `is_auth` TINYINT(1) DEFAULT false, `created_at` DATETIME NOT NULL, `updated_at` DATETIME NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-23 22:47:47,129 INFO 10916 [egg-sequelize](102ms) Executed (default): SHOW INDEX FROM `appkeys` FROM `hospital`
2019-08-23 22:47:47,168 INFO 10916 [egg-sequelize](35ms) Executed (default): DROP TABLE IF EXISTS `buildings`;
2019-08-23 22:47:47,546 INFO 10916 [egg-sequelize](374ms) Executed (default): CREATE TABLE IF NOT EXISTS `buildings` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25), `photoUrl` VARCHAR(256), `isMain` TINYINT(1) DEFAULT false, PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-23 22:47:47,611 INFO 10916 [egg-sequelize](63ms) Executed (default): SHOW INDEX FROM `buildings` FROM `hospital`
2019-08-23 22:47:47,645 INFO 10916 [egg-sequelize](32ms) Executed (default): DROP TABLE IF EXISTS `firstOffices`;
2019-08-23 22:47:47,978 INFO 10916 [egg-sequelize](330ms) Executed (default): CREATE TABLE IF NOT EXISTS `firstOffices` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25), PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-23 22:47:48,043 INFO 10916 [egg-sequelize](62ms) Executed (default): SHOW INDEX FROM `firstOffices` FROM `hospital`
2019-08-23 22:47:48,078 INFO 10916 [egg-sequelize](33ms) Executed (default): DROP TABLE IF EXISTS `secondOffices`;
2019-08-23 22:47:48,578 INFO 10916 [egg-sequelize](498ms) Executed (default): CREATE TABLE IF NOT EXISTS `secondOffices` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25), `firstOfficeId` CHAR(36) BINARY NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`firstOfficeId`) REFERENCES `firstOffices` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 22:47:48,848 INFO 10916 [egg-sequelize](267ms) Executed (default): SHOW INDEX FROM `secondOffices` FROM `hospital`
2019-08-23 22:47:48,877 INFO 10916 [egg-sequelize](27ms) Executed (default): DROP TABLE IF EXISTS `doctors`;
2019-08-23 22:47:49,299 INFO 10916 [egg-sequelize](413ms) Executed (default): CREATE TABLE IF NOT EXISTS `doctors` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25), `avatarUrl` VARCHAR(256), `gender` INTEGER, `post` VARCHAR(25), `title` VARCHAR(25), `resume` TEXT, `concurrent` TEXT, `achievement` TEXT, `speciality` TEXT, `secondOfficeId` CHAR(36) BINARY NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`secondOfficeId`) REFERENCES `secondOffices` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 22:47:49,391 INFO 10916 [egg-sequelize](89ms) Executed (default): SHOW INDEX FROM `doctors` FROM `hospital`
2019-08-23 22:47:49,421 INFO 10916 [egg-sequelize](27ms) Executed (default): DROP TABLE IF EXISTS `introductions`;
2019-08-23 22:47:49,754 INFO 10916 [egg-sequelize](331ms) Executed (default): CREATE TABLE IF NOT EXISTS `introductions` (`id` CHAR(36) BINARY NOT NULL , `message` VARCHAR(25), `description` TEXT, PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-23 22:47:49,856 INFO 10916 [egg-sequelize](100ms) Executed (default): SHOW INDEX FROM `introductions` FROM `hospital`
2019-08-23 22:47:49,898 INFO 10916 [egg-sequelize](33ms) Executed (default): DROP TABLE IF EXISTS `files`;
2019-08-23 22:47:50,364 INFO 10916 [egg-sequelize](463ms) Executed (default): CREATE TABLE IF NOT EXISTS `files` (`id` CHAR(36) BINARY NOT NULL , `filename` VARCHAR(64), `extname` VARCHAR(64), `relativePath` VARCHAR(256), `absolutePath` VARCHAR(256), `photoId` CHAR(36) BINARY NOT NULL, `createdAt` DATETIME, PRIMARY KEY (`id`), FOREIGN KEY (`photoId`) REFERENCES `introductions` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 22:47:50,446 INFO 10916 [egg-sequelize](79ms) Executed (default): SHOW INDEX FROM `files` FROM `hospital`
2019-08-23 22:47:50,475 INFO 10916 [egg-sequelize](27ms) Executed (default): DROP TABLE IF EXISTS `floors`;
2019-08-23 22:47:50,864 INFO 10916 [egg-sequelize](386ms) Executed (default): CREATE TABLE IF NOT EXISTS `floors` (`id` CHAR(36) BINARY NOT NULL , `name` INTEGER, `photoUrl` VARCHAR(256), `buildingId` CHAR(36) BINARY NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`buildingId`) REFERENCES `buildings` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 22:47:50,945 INFO 10916 [egg-sequelize](79ms) Executed (default): SHOW INDEX FROM `floors` FROM `hospital`
2019-08-23 22:47:50,974 INFO 10916 [egg-sequelize](27ms) Executed (default): DROP TABLE IF EXISTS `introducePhotos`;
2019-08-23 22:47:51,452 INFO 10916 [egg-sequelize](474ms) Executed (default): CREATE TABLE IF NOT EXISTS `introducePhotos` (`id` CHAR(36) BINARY NOT NULL , `relativePath` VARCHAR(256), `introductionId` CHAR(36) BINARY NOT NULL, `createdAt` DATETIME, PRIMARY KEY (`id`), FOREIGN KEY (`introductionId`) REFERENCES `introductions` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 22:47:51,532 INFO 10916 [egg-sequelize](61ms) Executed (default): SHOW INDEX FROM `introducePhotos` FROM `hospital`
2019-08-23 22:47:51,563 INFO 10916 [egg-sequelize](29ms) Executed (default): DROP TABLE IF EXISTS `roles`;
2019-08-23 22:47:51,873 INFO 10916 [egg-sequelize](307ms) Executed (default): CREATE TABLE IF NOT EXISTS `roles` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25) NOT NULL, `description` VARCHAR(200), PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-23 22:47:51,939 INFO 10916 [egg-sequelize](64ms) Executed (default): SHOW INDEX FROM `roles` FROM `hospital`
2019-08-23 22:47:51,976 INFO 10916 [egg-sequelize](34ms) Executed (default): DROP TABLE IF EXISTS `users`;
2019-08-23 22:47:52,473 INFO 10916 [egg-sequelize](494ms) Executed (default): CREATE TABLE IF NOT EXISTS `users` (`id` CHAR(36) BINARY NOT NULL , `username` VARCHAR(30) NOT NULL UNIQUE, `password` VARCHAR(60) NOT NULL, `created_at` DATETIME NOT NULL, `updated_at` DATETIME NOT NULL, `deleted_at` DATETIME, `role_id` CHAR(36) BINARY, PRIMARY KEY (`id`), FOREIGN KEY (`role_id`) REFERENCES `roles` (`id`) ON DELETE SET NULL ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 22:47:52,589 INFO 10916 [egg-sequelize](114ms) Executed (default): SHOW INDEX FROM `users` FROM `hospital`
2019-08-23 22:47:52,627 INFO 10916 [egg-sequelize](36ms) Executed (default): DROP TABLE IF EXISTS `workInformations`;
2019-08-23 22:47:53,061 INFO 10916 [egg-sequelize](431ms) Executed (default): CREATE TABLE IF NOT EXISTS `workInformations` (`id` CHAR(36) BINARY NOT NULL , `department` VARCHAR(25), `registerType` VARCHAR(25), `date` DATETIME, `classes` VARCHAR(25), `remaining` INTEGER, `doctorId` CHAR(36) BINARY NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`doctorId`) REFERENCES `doctors` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 22:47:53,141 INFO 10916 [egg-sequelize](78ms) Executed (default): SHOW INDEX FROM `workInformations` FROM `hospital`
2019-08-23 22:47:53,204 INFO 10916 [egg-sequelize](52ms) Executed (default): INSERT INTO `roles` (`id`,`name`,`description`) VALUES ('fc6f5290c5b411e99061635a6cd0c99a','管理员','管理员权限：可以查询所有用户信息，修改用户账号密码');
2019-08-23 22:47:53,337 INFO 10916 [egg-sequelize](67ms) Executed (default): INSERT INTO `roles` (`id`,`name`,`description`) VALUES ('fc821740c5b411e99061635a6cd0c99a','用户','用户：可以进行普通操作');
2019-08-23 22:47:53,426 INFO 10916 [egg-sequelize](85ms) Executed (default): INSERT INTO `buildings` (`id`,`name`,`isMain`) VALUES ('fc8cecb0c5b411e99061635a6cd0c99a','医院总览图',true);
2019-08-23 22:48:19,891 INFO 10916 [egg-sequelize](369ms) Executed (default): DROP TABLE IF EXISTS `workInformations`;
2019-08-23 22:48:20,213 INFO 10916 [egg-sequelize](320ms) Executed (default): DROP TABLE IF EXISTS `users`;
2019-08-23 22:48:20,746 INFO 10916 [egg-sequelize](531ms) Executed (default): DROP TABLE IF EXISTS `roles`;
2019-08-23 22:48:21,090 INFO 10916 [egg-sequelize](343ms) Executed (default): DROP TABLE IF EXISTS `introducePhotos`;
2019-08-23 22:48:21,257 INFO 10916 [egg-sequelize](165ms) Executed (default): DROP TABLE IF EXISTS `floors`;
2019-08-23 22:48:21,633 INFO 10916 [egg-sequelize](373ms) Executed (default): DROP TABLE IF EXISTS `files`;
2019-08-23 22:48:21,821 INFO 10916 [egg-sequelize](185ms) Executed (default): DROP TABLE IF EXISTS `introductions`;
2019-08-23 22:48:22,181 INFO 10916 [egg-sequelize](358ms) Executed (default): DROP TABLE IF EXISTS `doctors`;
2019-08-23 22:48:22,609 INFO 10916 [egg-sequelize](425ms) Executed (default): DROP TABLE IF EXISTS `secondOffices`;
2019-08-23 22:48:22,886 INFO 10916 [egg-sequelize](275ms) Executed (default): DROP TABLE IF EXISTS `firstOffices`;
2019-08-23 22:48:23,186 INFO 10916 [egg-sequelize](298ms) Executed (default): DROP TABLE IF EXISTS `buildings`;
2019-08-23 22:48:23,453 INFO 10916 [egg-sequelize](264ms) Executed (default): DROP TABLE IF EXISTS `appkeys`;
2019-08-23 22:48:23,483 INFO 10916 [egg-sequelize](28ms) Executed (default): DROP TABLE IF EXISTS `appkeys`;
2019-08-23 22:48:23,783 INFO 10916 [egg-sequelize](297ms) Executed (default): CREATE TABLE IF NOT EXISTS `appkeys` (`id` CHAR(36) BINARY NOT NULL , `code` VARCHAR(64), `expire_at` DATETIME, `is_auth` TINYINT(1) DEFAULT false, `created_at` DATETIME NOT NULL, `updated_at` DATETIME NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-23 22:48:23,841 INFO 10916 [egg-sequelize](56ms) Executed (default): SHOW INDEX FROM `appkeys` FROM `hospital`
2019-08-23 22:48:23,874 INFO 10916 [egg-sequelize](30ms) Executed (default): DROP TABLE IF EXISTS `buildings`;
2019-08-23 22:48:24,171 INFO 10916 [egg-sequelize](293ms) Executed (default): CREATE TABLE IF NOT EXISTS `buildings` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25), `photoUrl` VARCHAR(256), `isMain` TINYINT(1) DEFAULT false, PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-23 22:48:24,219 INFO 10916 [egg-sequelize](44ms) Executed (default): SHOW INDEX FROM `buildings` FROM `hospital`
2019-08-23 22:48:24,253 INFO 10916 [egg-sequelize](32ms) Executed (default): DROP TABLE IF EXISTS `firstOffices`;
2019-08-23 22:48:24,630 INFO 10916 [egg-sequelize](374ms) Executed (default): CREATE TABLE IF NOT EXISTS `firstOffices` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25), PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-23 22:48:24,685 INFO 10916 [egg-sequelize](53ms) Executed (default): SHOW INDEX FROM `firstOffices` FROM `hospital`
2019-08-23 22:48:24,707 INFO 10916 [egg-sequelize](20ms) Executed (default): DROP TABLE IF EXISTS `secondOffices`;
2019-08-23 22:48:25,063 INFO 10916 [egg-sequelize](352ms) Executed (default): CREATE TABLE IF NOT EXISTS `secondOffices` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25), `firstOfficeId` CHAR(36) BINARY NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`firstOfficeId`) REFERENCES `firstOffices` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 22:48:25,140 INFO 10916 [egg-sequelize](75ms) Executed (default): SHOW INDEX FROM `secondOffices` FROM `hospital`
2019-08-23 22:48:25,173 INFO 10916 [egg-sequelize](30ms) Executed (default): DROP TABLE IF EXISTS `doctors`;
2019-08-23 22:48:25,671 INFO 10916 [egg-sequelize](494ms) Executed (default): CREATE TABLE IF NOT EXISTS `doctors` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25), `avatarUrl` VARCHAR(256), `gender` INTEGER, `post` VARCHAR(25), `title` VARCHAR(25), `resume` TEXT, `concurrent` TEXT, `achievement` TEXT, `speciality` TEXT, `secondOfficeId` CHAR(36) BINARY NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`secondOfficeId`) REFERENCES `secondOffices` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 22:48:25,739 INFO 10916 [egg-sequelize](66ms) Executed (default): SHOW INDEX FROM `doctors` FROM `hospital`
2019-08-23 22:48:25,772 INFO 10916 [egg-sequelize](31ms) Executed (default): DROP TABLE IF EXISTS `introductions`;
2019-08-23 22:48:26,183 INFO 10916 [egg-sequelize](408ms) Executed (default): CREATE TABLE IF NOT EXISTS `introductions` (`id` CHAR(36) BINARY NOT NULL , `message` VARCHAR(25), `description` TEXT, PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-23 22:48:26,239 INFO 10916 [egg-sequelize](54ms) Executed (default): SHOW INDEX FROM `introductions` FROM `hospital`
2019-08-23 22:48:26,261 INFO 10916 [egg-sequelize](20ms) Executed (default): DROP TABLE IF EXISTS `files`;
2019-08-23 22:48:26,683 INFO 10916 [egg-sequelize](417ms) Executed (default): CREATE TABLE IF NOT EXISTS `files` (`id` CHAR(36) BINARY NOT NULL , `filename` VARCHAR(64), `extname` VARCHAR(64), `relativePath` VARCHAR(256), `absolutePath` VARCHAR(256), `photoId` CHAR(36) BINARY NOT NULL, `createdAt` DATETIME, PRIMARY KEY (`id`), FOREIGN KEY (`photoId`) REFERENCES `introductions` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 22:48:26,783 INFO 10916 [egg-sequelize](98ms) Executed (default): SHOW INDEX FROM `files` FROM `hospital`
2019-08-23 22:48:26,816 INFO 10916 [egg-sequelize](31ms) Executed (default): DROP TABLE IF EXISTS `floors`;
2019-08-23 22:48:27,238 INFO 10916 [egg-sequelize](420ms) Executed (default): CREATE TABLE IF NOT EXISTS `floors` (`id` CHAR(36) BINARY NOT NULL , `name` INTEGER, `photoUrl` VARCHAR(256), `buildingId` CHAR(36) BINARY NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`buildingId`) REFERENCES `buildings` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 22:48:27,316 INFO 10916 [egg-sequelize](74ms) Executed (default): SHOW INDEX FROM `floors` FROM `hospital`
2019-08-23 22:48:27,438 INFO 10916 [egg-sequelize](120ms) Executed (default): DROP TABLE IF EXISTS `introducePhotos`;
2019-08-23 22:48:27,892 INFO 10916 [egg-sequelize](451ms) Executed (default): CREATE TABLE IF NOT EXISTS `introducePhotos` (`id` CHAR(36) BINARY NOT NULL , `relativePath` VARCHAR(256), `introductionId` CHAR(36) BINARY NOT NULL, `createdAt` DATETIME, PRIMARY KEY (`id`), FOREIGN KEY (`introductionId`) REFERENCES `introductions` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 22:48:27,970 INFO 10916 [egg-sequelize](75ms) Executed (default): SHOW INDEX FROM `introducePhotos` FROM `hospital`
2019-08-23 22:48:28,003 INFO 10916 [egg-sequelize](29ms) Executed (default): DROP TABLE IF EXISTS `roles`;
2019-08-23 22:48:28,446 INFO 10916 [egg-sequelize](440ms) Executed (default): CREATE TABLE IF NOT EXISTS `roles` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25) NOT NULL, `description` VARCHAR(200), PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-23 22:48:28,490 INFO 10916 [egg-sequelize](42ms) Executed (default): SHOW INDEX FROM `roles` FROM `hospital`
2019-08-23 22:48:28,513 INFO 10916 [egg-sequelize](21ms) Executed (default): DROP TABLE IF EXISTS `users`;
2019-08-23 22:48:29,002 INFO 10916 [egg-sequelize](486ms) Executed (default): CREATE TABLE IF NOT EXISTS `users` (`id` CHAR(36) BINARY NOT NULL , `username` VARCHAR(30) NOT NULL UNIQUE, `password` VARCHAR(60) NOT NULL, `created_at` DATETIME NOT NULL, `updated_at` DATETIME NOT NULL, `deleted_at` DATETIME, `role_id` CHAR(36) BINARY, PRIMARY KEY (`id`), FOREIGN KEY (`role_id`) REFERENCES `roles` (`id`) ON DELETE SET NULL ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 22:48:29,101 INFO 10916 [egg-sequelize](97ms) Executed (default): SHOW INDEX FROM `users` FROM `hospital`
2019-08-23 22:48:29,123 INFO 10916 [egg-sequelize](20ms) Executed (default): DROP TABLE IF EXISTS `workInformations`;
2019-08-23 22:48:29,712 INFO 10916 [egg-sequelize](585ms) Executed (default): CREATE TABLE IF NOT EXISTS `workInformations` (`id` CHAR(36) BINARY NOT NULL , `department` VARCHAR(25), `registerType` VARCHAR(25), `date` DATETIME, `classes` VARCHAR(25), `remaining` INTEGER, `doctorId` CHAR(36) BINARY NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`doctorId`) REFERENCES `doctors` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 22:48:29,791 INFO 10916 [egg-sequelize](77ms) Executed (default): SHOW INDEX FROM `workInformations` FROM `hospital`
2019-08-23 22:48:29,844 INFO 10916 [egg-sequelize](48ms) Executed (default): INSERT INTO `roles` (`id`,`name`,`description`) VALUES ('12478420c5b511e99061635a6cd0c99a','管理员','管理员权限：可以查询所有用户信息，修改用户账号密码');
2019-08-23 22:48:29,922 INFO 10916 [egg-sequelize](74ms) Executed (default): INSERT INTO `roles` (`id`,`name`,`description`) VALUES ('124f9a70c5b511e99061635a6cd0c99a','用户','用户：可以进行普通操作');
2019-08-23 22:48:30,000 INFO 10916 [egg-sequelize](73ms) Executed (default): INSERT INTO `buildings` (`id`,`name`,`isMain`) VALUES ('125b5a40c5b511e99061635a6cd0c99a','医院总览图',true);
2019-08-23 22:48:33,095 INFO 10916 [egg-sequelize](247ms) Executed (default): INSERT INTO `firstOffices` (`id`,`name`) VALUES (1,'内科');
2019-08-23 22:48:33,229 INFO 10916 [egg-sequelize](130ms) Executed (default): INSERT INTO `firstOffices` (`id`,`name`) VALUES (2,'外科');
2019-08-23 22:48:33,485 INFO 10916 [egg-sequelize](252ms) Executed (default): INSERT INTO `firstOffices` (`id`,`name`) VALUES (3,'医技科室');
2019-08-23 22:48:33,827 INFO 10916 [egg-sequelize](338ms) Executed (default): INSERT INTO `secondOffices` (`id`,`name`,`firstOfficeId`) VALUES (1,'心血管内一科',1);
2019-08-23 22:48:33,894 INFO 10916 [egg-sequelize](63ms) Executed (default): INSERT INTO `secondOffices` (`id`,`name`,`firstOfficeId`) VALUES (2,'消化内科',1);
2019-08-23 22:48:33,972 INFO 10916 [egg-sequelize](74ms) Executed (default): INSERT INTO `secondOffices` (`id`,`name`,`firstOfficeId`) VALUES (3,'胃肠疝外科',2);
2019-08-23 22:48:34,050 INFO 10916 [egg-sequelize](74ms) Executed (default): INSERT INTO `secondOffices` (`id`,`name`,`firstOfficeId`) VALUES (4,'康复医学科',3);
2019-08-23 22:48:34,128 INFO 10916 [egg-sequelize](73ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`post`,`title`,`resume`,`concurrent`,`achievement`,`speciality`,`secondOfficeId`) VALUES (1,'曾康华','\\public\\image\\doctor\\face\\doctor1.jpg',2,'副院长','主任医师 、教授','南昌大学硕士生导师、心脏康复学科带头人、江西省政府特殊津贴专家、赣州市政府特殊津贴专家、赣南医学院兼职教授、全国“五一”劳动奖章获得者、江西省人大代表、赣州市“十佳”医务工作者。','中国心脏联盟委员、江西省康复医学会常委、赣州市康复医学会会长、赣州市康复医学会心血管专业委员会主委、赣州市医学会心血管专业委员会副主委。','完成省市级课题多项，多项成果获市科技进步奖。','在冠心病、高血压、心衰的诊断治疗上积累了丰富经验，率先在市级医院开展心脏康复，创建赣州市人民医院心脏康复亚专业。',1);
2019-08-23 22:48:34,260 INFO 10916 [egg-sequelize](104ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`post`,`title`,`resume`,`concurrent`,`achievement`,`speciality`,`secondOfficeId`) VALUES (2,'罗骏','\\public\\image\\doctor\\face\\doctor2.jpg',1,'党委委员、副院长、心血管内一科主任','主任医师 、教授','博士后，硕士研究生导师，曾在南京医科大学附属南京市第一医院和江西省人民医院长期工作并担任科室主任助理和副主任。曾在美国杜克大学和UCLA大学研修，从事心内科临床工作近三十年在心血管疑难危重病人抢救上积累了丰富的经验。','从事心血管临床工作三十余年，在心脏介入和心血管疑难危重病人诊治上积累了丰富的经验。擅长各种心脏病介入治疗，特别是在复杂冠心病支架术，复杂心律失常射频消融术，三腔起搏器植入及主动脉夹层经皮腔内隔绝等心脏介入治疗上积累丰富经验，年介入量千余台。较早开展房颤射频消融、经桡动脉冠脉介入、主动脉夹层介入治疗，指导省内外数十家医院开展心脏介入治疗。率先在赣州地区独立开展房颤的射频消融治疗、房颤的冷冻消融、左心耳封堵、零X线射频消融、无内腔起搏电极植入、FFR等介入技术。','主持国家自然基金、省自然基金等课题十余项，发表国家级论文数十篇，获市级科技成果奖多项，指导硕士研究生十余人。','硕士生导师、江西省百千万人才工程人选、江西省卫生计生系统有突出贡献中青年专家、江西省卫生系统学术和技术带头人培养对象、中国老年医学会心血管分会委员、江西省生物医学工程学会起博与电生理分会常委兼副秘书长、江西省心血管分会房颤工作组副组长、赣州医学会心血管分会副主任委员。',1);
2019-08-23 22:48:34,338 INFO 10916 [egg-sequelize](64ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`post`,`title`,`resume`,`concurrent`,`speciality`,`secondOfficeId`) VALUES (3,'汤建华','\\public\\image\\doctor\\face\\doctor3.jpg',1,'主任','主任医师','1986年参加工作，消化专业研究生毕业，获医学硕士学位。一直从事消化内科临床及内镜工作。','江西省肝病学会委员、江西省胃癌学会委员、赣州市消化病学会常委。','长期从事临床消化及内镜工作，理论扎实，经验丰富，擅长于消化系危、急、重症及疑难病例诊治，对消化系统常见病、多发病如食管疾病、胃肠疾病、胰腺病、慢性肝病的诊治有独到之处，熟练掌握上消化道内窥镜诊断及治疗操作，尤其是胆、胰疾病内镜下诊疗如胆管结石、胆管肿瘤、梗阻性黄疸、急慢性胰腺炎、胰腺囊肿、胰腺肿瘤、胰管结石等。',2);
2019-08-23 22:48:34,416 INFO 10916 [egg-sequelize](73ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`post`,`title`,`resume`,`concurrent`,`achievement`,`speciality`,`secondOfficeId`) VALUES ('14fd5550c5b511e99061635a6cd0c99a','陈友佳','\\public\\image\\doctor\\face\\doctor4.jpg',1,'党委委员、工会主席','主任医师','心脏重症学科带头人，中共党员，现任赣州市人民医院党委委员、工会主席。1993年7月毕业于赣南医学院；历任赣州市人民医院介入导管科副主任、放射介入科主任、心血管内科副主任（正科级）、门诊部主任兼心血管内科副主任、医务部主任兼心血管内科副主任；2017年9月起任赣州市人民医院工会主席。','较早在赣州开展介入治疗，在介入和心脏重症救治上积累了丰富经验，特别擅长外周血管和冠心病的介入治疗及危重患者的抢救。','江西省研究性医学会医疗分会副主任委员、江西省心血管专业委员会高血压学组成员、江西省介入心脏病学会第一届理事、赣州市医学会心血管分会常委。','完成省市级课题多项。',2);
2019-08-23 22:48:34,604 INFO 10916 [egg-sequelize](181ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`title`,`resume`,`concurrent`,`achievement`,`speciality`,`secondOfficeId`) VALUES ('15096340c5b511e99061635a6cd0c99a','陈仁华','\\public\\image\\doctor\\face\\doctor5.jpg',1,'副主任医师','医学博士，心血管病专业，毕业于上海交通大学，副主任医师，从事心血管专业临床工作近20年，从事心血管介入诊疗10余年。先后在河北医科大学第一附属医院、南昌大学第一附属医院、首都医科大学附属安贞医院、上海交通大学附属新华医院、上海复旦大学附属中山医院进修、访问或学习，发表SCI论文多篇，理论知识扎实，临床经验丰富','擅长心血管系统危、急、重症抢救(如急性心肌梗死的急诊介入治疗和恶性心律失常的治疗)及疑难病例诊治；对心脏介入治疗如冠心病的支架植入治疗，大动脉夹层的覆膜支架腔内隔绝术等有很高的造诣，尤其擅长心律失常的诊治，如阵发性室上性心动过速、房性心动过速、心房颤动、室性早搏、室性心动速的射频消融治疗，心动过缓，病态窦房结综合征的起搏器植入治疗等。','赣州市心血管专业委员会委员。','主持江西省卫生与计划委员课题一项，完成赣州市科技局课题二项。近年来发表SCI论文多篇。',1);
2019-08-23 22:48:34,682 INFO 10916 [egg-sequelize](47ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`title`,`resume`,`concurrent`,`achievement`,`secondOfficeId`) VALUES ('1529bc80c5b511e99061635a6cd0c99a','袁文金','\\public\\image\\doctor\\face\\doctor6.jpg',1,'主任医师','冠心病学科带头人，西部之光访问学者。1990年9月—1995年7月就读于江西赣南医学院临床医学系，获医学学士； 2000年9月—2003年7月就读于广东汕头大学医学院，获医学硕士（内科学）；2005年11月在北京大学人民医院参加第16届高级心脏电生理学习班','曾赴意大利进修学习，从事临床工作二十余年，在各种心脏介入治疗和危重病人抢救上积累了丰富的经验，擅长冠心病的介入治疗，特别是复杂冠心病的介入治疗。','赣州市心血管专业委员会委员。',1);
2019-08-23 22:48:34,760 INFO 10916 [egg-sequelize](65ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`title`,`concurrent`,`secondOfficeId`) VALUES ('1532e440c5b511e99061635a6cd0c99a','王诚高','\\public\\image\\doctor\\face\\doctor7.jpg',1,'副主任医师','临床规培医师导师，从事冠心病、高血压病、高脂血症、心肌病、心律失常、先心病等心血管疾病诊断及治疗，在冠心病、高血压病、高脂血症、心肌病方面拥有丰富经验，擅长冠心病的介入手术治疗',1);
2019-08-23 22:48:34,838 INFO 10916 [egg-sequelize](74ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`title`,`secondOfficeId`) VALUES ('153d92a0c5b511e99061635a6cd0c99a','谢绍峰','\\public\\image\\doctor\\face\\doctor8.jpg',1,'副主任医师',1);
2019-08-23 22:48:34,915 INFO 10916 [egg-sequelize](73ms) Executed (default): INSERT INTO `workInformations` (`id`,`department`,`registerType`,`date`,`classes`,`remaining`,`doctorId`) VALUES (1,'心血管内一科门诊（南院）','正高号',NULL,'上午',20,1);
2019-08-23 22:48:34,993 INFO 10916 [egg-sequelize](71ms) Executed (default): INSERT INTO `workInformations` (`id`,`department`,`registerType`,`date`,`classes`,`remaining`,`doctorId`) VALUES (2,'心血管内一科门诊（南院）','正高号',NULL,'下午',19,1);
2019-08-23 22:48:35,071 INFO 10916 [egg-sequelize](74ms) Executed (default): INSERT INTO `workInformations` (`id`,`department`,`registerType`,`date`,`classes`,`remaining`,`doctorId`) VALUES (3,'心血管内一科门诊（南院）','正高号',NULL,'上午',20,2);
2019-08-23 22:49:14,386 INFO 15524 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 22:51:47,211 INFO 15128 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 22:53:30,593 INFO 15320 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 23:12:52,149 INFO 2576 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 23:12:54,229 INFO 8528 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 23:12:57,163 INFO 352 [egg-sequelize](0ms) Executed (default): SELECT 1+1 AS result
2019-08-23 23:13:09,905 INFO 352 [egg-sequelize](332ms) Executed (default): DROP TABLE IF EXISTS `workInformations`;
2019-08-23 23:13:10,093 INFO 352 [egg-sequelize](186ms) Executed (default): DROP TABLE IF EXISTS `users`;
2019-08-23 23:13:10,427 INFO 352 [egg-sequelize](331ms) Executed (default): DROP TABLE IF EXISTS `roles`;
2019-08-23 23:13:10,604 INFO 352 [egg-sequelize](176ms) Executed (default): DROP TABLE IF EXISTS `introducePhotos`;
2019-08-23 23:13:10,675 INFO 352 [egg-sequelize](69ms) Executed (default): DROP TABLE IF EXISTS `introductions`;
2019-08-23 23:13:10,763 ERROR 352 [-/127.0.0.1/-/0ms GET /] nodejs.SequelizeDatabaseError: Cannot delete or update a parent row: a foreign key constraint fails
    at Query.formatError (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:247:16)
    at Query.handler [as onResult] (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:68:23)
    at Query.execute (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\commands\command.js:30:14)
    at Connection.handlePacket (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:72:12)
    at PacketParser.executeStart (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:79:25)
    at Socket.emit (events.js:198:13)
    at addChunk (_stream_readable.js:288:12)
    at readableAddChunk (_stream_readable.js:269:11)
    at Socket.Readable.push (_stream_readable.js:224:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:57:12)
    at Promise.try.then.connection (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:561:20)
From previous event:
    at Promise.resolve.retryParameters (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:558:8)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\retry-as-promised\index.js:39:21
    at retryAsPromised (D:\nodejs\nodejs\node_project\hospital\node_modules\retry-as-promised\index.js:29:10)
    at Sequelize.query (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:457:28)
    at QueryInterface.dropTable (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\query-interface.js:298:27)
    at Function.drop (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:1223:32)
    at Promise.each.model (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:776:48)
From previous event:
    at Sequelize.drop (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:776:20)
    at Promise.try.then (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:707:21)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Sequelize.sync (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:705:8)
    at SetupController.initDatabase (D:\nodejs\nodejs\node_project\hospital\app\controller\setup.js:17:26)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\middleware\multipart.js:5:38)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at i18n (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-i18n\app\middleware\i18n.js:13:12)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\node_modules\koa-compose\index.js:42:32)
    at dta (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\lib\middlewares\dta.js:12:12)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\node_modules\koa-compose\index.js:42:32)
    at xframe (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\lib\middlewares\xframe.js:7:11)
name: "SequelizeDatabaseError"
parent: {"code":"ER_ROW_IS_REFERENCED","errno":1217,"sqlState":"23000","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails","sql":"DROP TABLE IF EXISTS `introductions`;"}
original: {"code":"ER_ROW_IS_REFERENCED","errno":1217,"sqlState":"23000","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails","sql":"DROP TABLE IF EXISTS `introductions`;"}
sql: "DROP TABLE IF EXISTS `introductions`;"
pid: 352
hostname: LAPTOP-57LT11PC

2019-08-23 23:13:28,388 INFO 352 [egg-sequelize](72ms) Executed (default): DROP TABLE IF EXISTS `workInformations`;
2019-08-23 23:13:28,420 INFO 352 [egg-sequelize](30ms) Executed (default): DROP TABLE IF EXISTS `users`;
2019-08-23 23:13:28,443 INFO 352 [egg-sequelize](20ms) Executed (default): DROP TABLE IF EXISTS `roles`;
2019-08-23 23:13:28,476 INFO 352 [egg-sequelize](30ms) Executed (default): DROP TABLE IF EXISTS `introducePhotos`;
2019-08-23 23:13:28,479 INFO 352 [egg-sequelize](1ms) Executed (default): DROP TABLE IF EXISTS `introductions`;
2019-08-23 23:13:28,503 ERROR 352 [-/127.0.0.1/-/0ms GET /] nodejs.SequelizeDatabaseError: Cannot delete or update a parent row: a foreign key constraint fails
    at Query.formatError (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:247:16)
    at Query.handler [as onResult] (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:68:23)
    at Query.execute (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\commands\command.js:30:14)
    at Connection.handlePacket (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:72:12)
    at PacketParser.executeStart (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:79:25)
    at Socket.emit (events.js:198:13)
    at addChunk (_stream_readable.js:288:12)
    at readableAddChunk (_stream_readable.js:269:11)
    at Socket.Readable.push (_stream_readable.js:224:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:57:12)
    at Promise.try.then.connection (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:561:20)
From previous event:
    at Promise.resolve.retryParameters (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:558:8)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\retry-as-promised\index.js:39:21
    at retryAsPromised (D:\nodejs\nodejs\node_project\hospital\node_modules\retry-as-promised\index.js:29:10)
    at Sequelize.query (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:457:28)
    at QueryInterface.dropTable (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\query-interface.js:298:27)
    at Function.drop (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:1223:32)
    at Promise.each.model (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:776:48)
From previous event:
    at Sequelize.drop (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:776:20)
    at Promise.try.then (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:707:21)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Sequelize.sync (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:705:8)
    at SetupController.initDatabase (D:\nodejs\nodejs\node_project\hospital\app\controller\setup.js:17:26)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\middleware\multipart.js:5:38)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at i18n (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-i18n\app\middleware\i18n.js:13:12)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\node_modules\koa-compose\index.js:42:32)
    at dta (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\lib\middlewares\dta.js:12:12)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\node_modules\koa-compose\index.js:42:32)
    at xframe (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\lib\middlewares\xframe.js:7:11)
name: "SequelizeDatabaseError"
parent: {"code":"ER_ROW_IS_REFERENCED","errno":1217,"sqlState":"23000","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails","sql":"DROP TABLE IF EXISTS `introductions`;"}
original: {"code":"ER_ROW_IS_REFERENCED","errno":1217,"sqlState":"23000","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails","sql":"DROP TABLE IF EXISTS `introductions`;"}
sql: "DROP TABLE IF EXISTS `introductions`;"
pid: 352
hostname: LAPTOP-57LT11PC

2019-08-23 23:13:37,408 INFO 352 [egg-sequelize](141ms) Executed (default): DROP TABLE IF EXISTS `workInformations`;
2019-08-23 23:13:37,440 INFO 352 [egg-sequelize](30ms) Executed (default): DROP TABLE IF EXISTS `users`;
2019-08-23 23:13:37,464 INFO 352 [egg-sequelize](22ms) Executed (default): DROP TABLE IF EXISTS `roles`;
2019-08-23 23:13:37,496 INFO 352 [egg-sequelize](30ms) Executed (default): DROP TABLE IF EXISTS `introducePhotos`;
2019-08-23 23:13:37,501 INFO 352 [egg-sequelize](1ms) Executed (default): DROP TABLE IF EXISTS `introductions`;
2019-08-23 23:13:37,522 ERROR 352 [-/127.0.0.1/-/0ms GET /] nodejs.SequelizeDatabaseError: Cannot delete or update a parent row: a foreign key constraint fails
    at Query.formatError (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:247:16)
    at Query.handler [as onResult] (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:68:23)
    at Query.execute (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\commands\command.js:30:14)
    at Connection.handlePacket (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:72:12)
    at PacketParser.executeStart (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:79:25)
    at Socket.emit (events.js:198:13)
    at addChunk (_stream_readable.js:288:12)
    at readableAddChunk (_stream_readable.js:269:11)
    at Socket.Readable.push (_stream_readable.js:224:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:57:12)
    at Promise.try.then.connection (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:561:20)
From previous event:
    at Promise.resolve.retryParameters (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:558:8)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\retry-as-promised\index.js:39:21
    at retryAsPromised (D:\nodejs\nodejs\node_project\hospital\node_modules\retry-as-promised\index.js:29:10)
    at Sequelize.query (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:457:28)
    at QueryInterface.dropTable (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\query-interface.js:298:27)
    at Function.drop (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:1223:32)
    at Promise.each.model (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:776:48)
From previous event:
    at Sequelize.drop (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:776:20)
    at Promise.try.then (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:707:21)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Sequelize.sync (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:705:8)
    at SetupController.initDatabase (D:\nodejs\nodejs\node_project\hospital\app\controller\setup.js:17:26)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\middleware\multipart.js:5:38)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at i18n (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-i18n\app\middleware\i18n.js:13:12)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\node_modules\koa-compose\index.js:42:32)
    at dta (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\lib\middlewares\dta.js:12:12)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\node_modules\koa-compose\index.js:42:32)
    at xframe (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\lib\middlewares\xframe.js:7:11)
name: "SequelizeDatabaseError"
parent: {"code":"ER_ROW_IS_REFERENCED","errno":1217,"sqlState":"23000","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails","sql":"DROP TABLE IF EXISTS `introductions`;"}
original: {"code":"ER_ROW_IS_REFERENCED","errno":1217,"sqlState":"23000","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails","sql":"DROP TABLE IF EXISTS `introductions`;"}
sql: "DROP TABLE IF EXISTS `introductions`;"
pid: 352
hostname: LAPTOP-57LT11PC

2019-08-23 23:13:51,258 INFO 13584 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 23:18:56,414 INFO 13584 [egg-sequelize](82ms) Executed (default): DROP TABLE IF EXISTS `workInformations`;
2019-08-23 23:18:56,446 INFO 13584 [egg-sequelize](29ms) Executed (default): DROP TABLE IF EXISTS `users`;
2019-08-23 23:18:56,480 INFO 13584 [egg-sequelize](32ms) Executed (default): DROP TABLE IF EXISTS `roles`;
2019-08-23 23:18:56,513 INFO 13584 [egg-sequelize](30ms) Executed (default): DROP TABLE IF EXISTS `introducePhotos`;
2019-08-23 23:18:56,516 INFO 13584 [egg-sequelize](1ms) Executed (default): DROP TABLE IF EXISTS `introductions`;
2019-08-23 23:18:56,620 ERROR 13584 [-/127.0.0.1/-/0ms GET /] nodejs.SequelizeDatabaseError: Cannot delete or update a parent row: a foreign key constraint fails
    at Query.formatError (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:247:16)
    at Query.handler [as onResult] (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:68:23)
    at Query.execute (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\commands\command.js:30:14)
    at Connection.handlePacket (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:72:12)
    at PacketParser.executeStart (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:79:25)
    at Socket.emit (events.js:198:13)
    at addChunk (_stream_readable.js:288:12)
    at readableAddChunk (_stream_readable.js:269:11)
    at Socket.Readable.push (_stream_readable.js:224:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:57:12)
    at Promise.try.then.connection (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:561:20)
From previous event:
    at Promise.resolve.retryParameters (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:558:8)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\retry-as-promised\index.js:39:21
    at retryAsPromised (D:\nodejs\nodejs\node_project\hospital\node_modules\retry-as-promised\index.js:29:10)
    at Sequelize.query (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:457:28)
    at QueryInterface.dropTable (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\query-interface.js:298:27)
    at Function.drop (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:1223:32)
    at Promise.each.model (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:776:48)
From previous event:
    at Sequelize.drop (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:776:20)
    at Promise.try.then (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:707:21)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Sequelize.sync (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:705:8)
    at SetupController.initDatabase (D:\nodejs\nodejs\node_project\hospital\app\controller\setup.js:17:26)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\middleware\multipart.js:5:38)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at i18n (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-i18n\app\middleware\i18n.js:13:12)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\node_modules\koa-compose\index.js:42:32)
    at dta (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\lib\middlewares\dta.js:12:12)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\node_modules\koa-compose\index.js:42:32)
    at xframe (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\lib\middlewares\xframe.js:7:11)
name: "SequelizeDatabaseError"
parent: {"code":"ER_ROW_IS_REFERENCED","errno":1217,"sqlState":"23000","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails","sql":"DROP TABLE IF EXISTS `introductions`;"}
original: {"code":"ER_ROW_IS_REFERENCED","errno":1217,"sqlState":"23000","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails","sql":"DROP TABLE IF EXISTS `introductions`;"}
sql: "DROP TABLE IF EXISTS `introductions`;"
pid: 13584
hostname: LAPTOP-57LT11PC

2019-08-23 23:20:32,180 INFO 1468 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 23:20:35,960 INFO 1468 [egg-sequelize](72ms) Executed (default): DROP TABLE IF EXISTS `workInformations`;
2019-08-23 23:20:35,992 INFO 1468 [egg-sequelize](29ms) Executed (default): DROP TABLE IF EXISTS `users`;
2019-08-23 23:20:36,015 INFO 1468 [egg-sequelize](20ms) Executed (default): DROP TABLE IF EXISTS `roles`;
2019-08-23 23:20:36,059 INFO 1468 [egg-sequelize](39ms) Executed (default): DROP TABLE IF EXISTS `introducePhotos`;
2019-08-23 23:20:36,171 INFO 1468 [egg-sequelize](110ms) Executed (default): DROP TABLE IF EXISTS `introductions`;
2019-08-23 23:20:36,274 ERROR 1468 [-/127.0.0.1/-/0ms GET /] nodejs.SequelizeDatabaseError: Cannot delete or update a parent row: a foreign key constraint fails
    at Query.formatError (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:247:16)
    at Query.handler [as onResult] (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:68:23)
    at Query.execute (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\commands\command.js:30:14)
    at Connection.handlePacket (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:72:12)
    at PacketParser.executeStart (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:79:25)
    at Socket.emit (events.js:198:13)
    at addChunk (_stream_readable.js:288:12)
    at readableAddChunk (_stream_readable.js:269:11)
    at Socket.Readable.push (_stream_readable.js:224:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:57:12)
    at Promise.try.then.connection (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:561:20)
From previous event:
    at Promise.resolve.retryParameters (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:558:8)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\retry-as-promised\index.js:39:21
    at retryAsPromised (D:\nodejs\nodejs\node_project\hospital\node_modules\retry-as-promised\index.js:29:10)
    at Sequelize.query (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:457:28)
    at QueryInterface.dropTable (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\query-interface.js:298:27)
    at Function.drop (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:1223:32)
    at Promise.each.model (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:776:48)
From previous event:
    at Sequelize.drop (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:776:20)
    at Promise.try.then (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:707:21)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at Sequelize.sync (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:705:8)
    at SetupController.initDatabase (D:\nodejs\nodejs\node_project\hospital\app\controller\setup.js:17:26)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at multipart (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\middleware\multipart.js:5:38)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at i18n (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-i18n\app\middleware\i18n.js:13:12)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\node_modules\koa-compose\index.js:42:32)
    at dta (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\lib\middlewares\dta.js:12:12)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\node_modules\koa-compose\index.js:42:32)
    at xframe (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\lib\middlewares\xframe.js:7:11)
name: "SequelizeDatabaseError"
parent: {"code":"ER_ROW_IS_REFERENCED","errno":1217,"sqlState":"23000","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails","sql":"DROP TABLE IF EXISTS `introductions`;"}
original: {"code":"ER_ROW_IS_REFERENCED","errno":1217,"sqlState":"23000","sqlMessage":"Cannot delete or update a parent row: a foreign key constraint fails","sql":"DROP TABLE IF EXISTS `introductions`;"}
sql: "DROP TABLE IF EXISTS `introductions`;"
pid: 1468
hostname: LAPTOP-57LT11PC

2019-08-23 23:21:56,737 INFO 2152 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 23:28:55,961 INFO 1476 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 23:29:17,262 INFO 1476 [egg-sequelize](61ms) Executed (default): DROP TABLE IF EXISTS `workInformations`;
2019-08-23 23:29:17,286 INFO 1476 [egg-sequelize](22ms) Executed (default): DROP TABLE IF EXISTS `users`;
2019-08-23 23:29:17,317 INFO 1476 [egg-sequelize](29ms) Executed (default): DROP TABLE IF EXISTS `roles`;
2019-08-23 23:29:17,342 INFO 1476 [egg-sequelize](22ms) Executed (default): DROP TABLE IF EXISTS `introducePhotos`;
2019-08-23 23:29:17,373 INFO 1476 [egg-sequelize](30ms) Executed (default): DROP TABLE IF EXISTS `introductions`;
2019-08-23 23:29:17,397 INFO 1476 [egg-sequelize](22ms) Executed (default): DROP TABLE IF EXISTS `floors`;
2019-08-23 23:29:17,428 INFO 1476 [egg-sequelize](29ms) Executed (default): DROP TABLE IF EXISTS `doctors`;
2019-08-23 23:29:17,453 INFO 1476 [egg-sequelize](23ms) Executed (default): DROP TABLE IF EXISTS `secondOffices`;
2019-08-23 23:29:17,484 INFO 1476 [egg-sequelize](29ms) Executed (default): DROP TABLE IF EXISTS `firstOffices`;
2019-08-23 23:29:17,508 INFO 1476 [egg-sequelize](22ms) Executed (default): DROP TABLE IF EXISTS `buildings`;
2019-08-23 23:29:17,539 INFO 1476 [egg-sequelize](28ms) Executed (default): DROP TABLE IF EXISTS `appkeys`;
2019-08-23 23:29:17,575 INFO 1476 [egg-sequelize](31ms) Executed (default): DROP TABLE IF EXISTS `appkeys`;
2019-08-23 23:29:18,143 INFO 1476 [egg-sequelize](546ms) Executed (default): CREATE TABLE IF NOT EXISTS `appkeys` (`id` CHAR(36) BINARY NOT NULL , `code` VARCHAR(64), `expire_at` DATETIME, `is_auth` TINYINT(1) DEFAULT false, `created_at` DATETIME NOT NULL, `updated_at` DATETIME NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-23 23:29:18,209 INFO 1476 [egg-sequelize](62ms) Executed (default): SHOW INDEX FROM `appkeys` FROM `hospital`
2019-08-23 23:29:18,243 INFO 1476 [egg-sequelize](31ms) Executed (default): DROP TABLE IF EXISTS `buildings`;
2019-08-23 23:29:18,543 INFO 1476 [egg-sequelize](297ms) Executed (default): CREATE TABLE IF NOT EXISTS `buildings` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25), `photoUrl` VARCHAR(256), `isMain` TINYINT(1) DEFAULT false, PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-23 23:29:18,607 INFO 1476 [egg-sequelize](61ms) Executed (default): SHOW INDEX FROM `buildings` FROM `hospital`
2019-08-23 23:29:18,631 INFO 1476 [egg-sequelize](21ms) Executed (default): DROP TABLE IF EXISTS `firstOffices`;
2019-08-23 23:29:19,019 INFO 1476 [egg-sequelize](385ms) Executed (default): CREATE TABLE IF NOT EXISTS `firstOffices` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25), PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-23 23:29:19,084 INFO 1476 [egg-sequelize](62ms) Executed (default): SHOW INDEX FROM `firstOffices` FROM `hospital`
2019-08-23 23:29:19,108 INFO 1476 [egg-sequelize](21ms) Executed (default): DROP TABLE IF EXISTS `secondOffices`;
2019-08-23 23:29:19,608 INFO 1476 [egg-sequelize](497ms) Executed (default): CREATE TABLE IF NOT EXISTS `secondOffices` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25), `firstOfficeId` CHAR(36) BINARY NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`firstOfficeId`) REFERENCES `firstOffices` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 23:29:19,698 INFO 1476 [egg-sequelize](88ms) Executed (default): SHOW INDEX FROM `secondOffices` FROM `hospital`
2019-08-23 23:29:19,729 INFO 1476 [egg-sequelize](28ms) Executed (default): DROP TABLE IF EXISTS `doctors`;
2019-08-23 23:29:20,240 INFO 1476 [egg-sequelize](508ms) Executed (default): CREATE TABLE IF NOT EXISTS `doctors` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25), `avatarUrl` VARCHAR(256), `gender` INTEGER, `post` VARCHAR(25), `title` VARCHAR(25), `resume` TEXT, `concurrent` TEXT, `achievement` TEXT, `speciality` TEXT, `secondOfficeId` CHAR(36) BINARY NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`secondOfficeId`) REFERENCES `secondOffices` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 23:29:20,331 INFO 1476 [egg-sequelize](87ms) Executed (default): SHOW INDEX FROM `doctors` FROM `hospital`
2019-08-23 23:29:20,362 INFO 1476 [egg-sequelize](28ms) Executed (default): DROP TABLE IF EXISTS `floors`;
2019-08-23 23:29:20,851 INFO 1476 [egg-sequelize](486ms) Executed (default): CREATE TABLE IF NOT EXISTS `floors` (`id` CHAR(36) BINARY NOT NULL , `name` INTEGER, `photoUrl` VARCHAR(256), `buildingId` CHAR(36) BINARY NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`buildingId`) REFERENCES `buildings` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 23:29:20,993 INFO 1476 [egg-sequelize](140ms) Executed (default): SHOW INDEX FROM `floors` FROM `hospital`
2019-08-23 23:29:21,028 INFO 1476 [egg-sequelize](31ms) Executed (default): DROP TABLE IF EXISTS `introductions`;
2019-08-23 23:29:21,365 INFO 1476 [egg-sequelize](334ms) Executed (default): CREATE TABLE IF NOT EXISTS `introductions` (`id` CHAR(36) BINARY NOT NULL , `message` VARCHAR(25), `description` TEXT, PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-23 23:29:21,430 INFO 1476 [egg-sequelize](63ms) Executed (default): SHOW INDEX FROM `introductions` FROM `hospital`
2019-08-23 23:29:21,464 INFO 1476 [egg-sequelize](31ms) Executed (default): DROP TABLE IF EXISTS `introducePhotos`;
2019-08-23 23:29:21,898 INFO 1476 [egg-sequelize](431ms) Executed (default): CREATE TABLE IF NOT EXISTS `introducePhotos` (`id` CHAR(36) BINARY NOT NULL , `photoUrl` VARCHAR(256), `introductionId` CHAR(36) BINARY NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`introductionId`) REFERENCES `introductions` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 23:29:22,018 INFO 1476 [egg-sequelize](117ms) Executed (default): SHOW INDEX FROM `introducePhotos` FROM `hospital`
2019-08-23 23:29:22,053 INFO 1476 [egg-sequelize](32ms) Executed (default): DROP TABLE IF EXISTS `roles`;
2019-08-23 23:29:22,419 INFO 1476 [egg-sequelize](364ms) Executed (default): CREATE TABLE IF NOT EXISTS `roles` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25) NOT NULL, `description` VARCHAR(200), PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-23 23:29:22,479 INFO 1476 [egg-sequelize](58ms) Executed (default): SHOW INDEX FROM `roles` FROM `hospital`
2019-08-23 23:29:22,507 INFO 1476 [egg-sequelize](25ms) Executed (default): DROP TABLE IF EXISTS `users`;
2019-08-23 23:29:23,207 INFO 1476 [egg-sequelize](697ms) Executed (default): CREATE TABLE IF NOT EXISTS `users` (`id` CHAR(36) BINARY NOT NULL , `username` VARCHAR(30) NOT NULL UNIQUE, `password` VARCHAR(60) NOT NULL, `created_at` DATETIME NOT NULL, `updated_at` DATETIME NOT NULL, `deleted_at` DATETIME, `role_id` CHAR(36) BINARY, PRIMARY KEY (`id`), FOREIGN KEY (`role_id`) REFERENCES `roles` (`id`) ON DELETE SET NULL ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 23:29:23,322 INFO 1476 [egg-sequelize](112ms) Executed (default): SHOW INDEX FROM `users` FROM `hospital`
2019-08-23 23:29:23,351 INFO 1476 [egg-sequelize](26ms) Executed (default): DROP TABLE IF EXISTS `workInformations`;
2019-08-23 23:29:23,806 INFO 1476 [egg-sequelize](452ms) Executed (default): CREATE TABLE IF NOT EXISTS `workInformations` (`id` CHAR(36) BINARY NOT NULL , `department` VARCHAR(25), `registerType` VARCHAR(25), `date` DATETIME, `classes` VARCHAR(25), `remaining` INTEGER, `doctorId` CHAR(36) BINARY NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`doctorId`) REFERENCES `doctors` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-23 23:29:23,972 INFO 1476 [egg-sequelize](163ms) Executed (default): SHOW INDEX FROM `workInformations` FROM `hospital`
2019-08-23 23:29:24,172 INFO 1476 [egg-sequelize](190ms) Executed (default): INSERT INTO `roles` (`id`,`name`,`description`) VALUES ('c915f880c5ba11e99addfd953ae706a2','管理员','管理员权限：可以查询所有用户信息，修改用户账号密码');
2019-08-23 23:29:24,294 INFO 1476 [egg-sequelize](118ms) Executed (default): INSERT INTO `roles` (`id`,`name`,`description`) VALUES ('c93455f0c5ba11e99addfd953ae706a2','用户','用户：可以进行普通操作');
2019-08-23 23:29:24,394 INFO 1476 [egg-sequelize](96ms) Executed (default): INSERT INTO `buildings` (`id`,`name`,`isMain`) VALUES ('c946cc80c5ba11e99addfd953ae706a2','医院总览图',true);
2019-08-23 23:29:36,348 INFO 1476 [egg-sequelize](208ms) Executed (default): INSERT INTO `firstOffices` (`id`,`name`) VALUES (1,'内科');
2019-08-23 23:29:36,499 INFO 1476 [egg-sequelize](147ms) Executed (default): INSERT INTO `firstOffices` (`id`,`name`) VALUES (2,'外科');
2019-08-23 23:29:36,587 INFO 1476 [egg-sequelize](83ms) Executed (default): INSERT INTO `firstOffices` (`id`,`name`) VALUES (3,'医技科室');
2019-08-23 23:29:36,687 INFO 1476 [egg-sequelize](96ms) Executed (default): INSERT INTO `secondOffices` (`id`,`name`,`firstOfficeId`) VALUES (1,'心血管内一科',1);
2019-08-23 23:29:36,809 INFO 1476 [egg-sequelize](117ms) Executed (default): INSERT INTO `secondOffices` (`id`,`name`,`firstOfficeId`) VALUES (2,'消化内科',1);
2019-08-23 23:29:36,898 INFO 1476 [egg-sequelize](85ms) Executed (default): INSERT INTO `secondOffices` (`id`,`name`,`firstOfficeId`) VALUES (3,'胃肠疝外科',2);
2019-08-23 23:29:36,987 INFO 1476 [egg-sequelize](85ms) Executed (default): INSERT INTO `secondOffices` (`id`,`name`,`firstOfficeId`) VALUES (4,'康复医学科',3);
2019-08-23 23:29:37,076 INFO 1476 [egg-sequelize](82ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`post`,`title`,`resume`,`concurrent`,`achievement`,`speciality`,`secondOfficeId`) VALUES (1,'曾康华','\\public\\image\\doctor\\face\\doctor1.jpg',2,'副院长','主任医师 、教授','南昌大学硕士生导师、心脏康复学科带头人、江西省政府特殊津贴专家、赣州市政府特殊津贴专家、赣南医学院兼职教授、全国“五一”劳动奖章获得者、江西省人大代表、赣州市“十佳”医务工作者。','中国心脏联盟委员、江西省康复医学会常委、赣州市康复医学会会长、赣州市康复医学会心血管专业委员会主委、赣州市医学会心血管专业委员会副主委。','完成省市级课题多项，多项成果获市科技进步奖。','在冠心病、高血压、心衰的诊断治疗上积累了丰富经验，率先在市级医院开展心脏康复，创建赣州市人民医院心脏康复亚专业。',1);
2019-08-23 23:29:37,247 INFO 1476 [egg-sequelize](121ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`post`,`title`,`resume`,`concurrent`,`achievement`,`speciality`,`secondOfficeId`) VALUES (2,'罗骏','\\public\\image\\doctor\\face\\doctor2.jpg',1,'党委委员、副院长、心血管内一科主任','主任医师 、教授','博士后，硕士研究生导师，曾在南京医科大学附属南京市第一医院和江西省人民医院长期工作并担任科室主任助理和副主任。曾在美国杜克大学和UCLA大学研修，从事心内科临床工作近三十年在心血管疑难危重病人抢救上积累了丰富的经验。','从事心血管临床工作三十余年，在心脏介入和心血管疑难危重病人诊治上积累了丰富的经验。擅长各种心脏病介入治疗，特别是在复杂冠心病支架术，复杂心律失常射频消融术，三腔起搏器植入及主动脉夹层经皮腔内隔绝等心脏介入治疗上积累丰富经验，年介入量千余台。较早开展房颤射频消融、经桡动脉冠脉介入、主动脉夹层介入治疗，指导省内外数十家医院开展心脏介入治疗。率先在赣州地区独立开展房颤的射频消融治疗、房颤的冷冻消融、左心耳封堵、零X线射频消融、无内腔起搏电极植入、FFR等介入技术。','主持国家自然基金、省自然基金等课题十余项，发表国家级论文数十篇，获市级科技成果奖多项，指导硕士研究生十余人。','硕士生导师、江西省百千万人才工程人选、江西省卫生计生系统有突出贡献中青年专家、江西省卫生系统学术和技术带头人培养对象、中国老年医学会心血管分会委员、江西省生物医学工程学会起博与电生理分会常委兼副秘书长、江西省心血管分会房颤工作组副组长、赣州医学会心血管分会副主任委员。',1);
2019-08-23 23:29:37,329 INFO 1476 [egg-sequelize](75ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`post`,`title`,`resume`,`concurrent`,`speciality`,`secondOfficeId`) VALUES (3,'汤建华','\\public\\image\\doctor\\face\\doctor3.jpg',1,'主任','主任医师','1986年参加工作，消化专业研究生毕业，获医学硕士学位。一直从事消化内科临床及内镜工作。','江西省肝病学会委员、江西省胃癌学会委员、赣州市消化病学会常委。','长期从事临床消化及内镜工作，理论扎实，经验丰富，擅长于消化系危、急、重症及疑难病例诊治，对消化系统常见病、多发病如食管疾病、胃肠疾病、胰腺病、慢性肝病的诊治有独到之处，熟练掌握上消化道内窥镜诊断及治疗操作，尤其是胆、胰疾病内镜下诊疗如胆管结石、胆管肿瘤、梗阻性黄疸、急慢性胰腺炎、胰腺囊肿、胰腺肿瘤、胰管结石等。',2);
2019-08-23 23:29:37,417 INFO 1476 [egg-sequelize](82ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`post`,`title`,`resume`,`concurrent`,`achievement`,`speciality`,`secondOfficeId`) VALUES ('d10bef40c5ba11e99addfd953ae706a2','陈友佳','\\public\\image\\doctor\\face\\doctor4.jpg',1,'党委委员、工会主席','主任医师','心脏重症学科带头人，中共党员，现任赣州市人民医院党委委员、工会主席。1993年7月毕业于赣南医学院；历任赣州市人民医院介入导管科副主任、放射介入科主任、心血管内科副主任（正科级）、门诊部主任兼心血管内科副主任、医务部主任兼心血管内科副主任；2017年9月起任赣州市人民医院工会主席。','较早在赣州开展介入治疗，在介入和心脏重症救治上积累了丰富经验，特别擅长外周血管和冠心病的介入治疗及危重患者的抢救。','江西省研究性医学会医疗分会副主任委员、江西省心血管专业委员会高血压学组成员、江西省介入心脏病学会第一届理事、赣州市医学会心血管分会常委。','完成省市级课题多项。',2);
2019-08-23 23:29:37,506 INFO 1476 [egg-sequelize](82ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`title`,`resume`,`concurrent`,`achievement`,`speciality`,`secondOfficeId`) VALUES ('d11983d0c5ba11e99addfd953ae706a2','陈仁华','\\public\\image\\doctor\\face\\doctor5.jpg',1,'副主任医师','医学博士，心血管病专业，毕业于上海交通大学，副主任医师，从事心血管专业临床工作近20年，从事心血管介入诊疗10余年。先后在河北医科大学第一附属医院、南昌大学第一附属医院、首都医科大学附属安贞医院、上海交通大学附属新华医院、上海复旦大学附属中山医院进修、访问或学习，发表SCI论文多篇，理论知识扎实，临床经验丰富','擅长心血管系统危、急、重症抢救(如急性心肌梗死的急诊介入治疗和恶性心律失常的治疗)及疑难病例诊治；对心脏介入治疗如冠心病的支架植入治疗，大动脉夹层的覆膜支架腔内隔绝术等有很高的造诣，尤其擅长心律失常的诊治，如阵发性室上性心动过速、房性心动过速、心房颤动、室性早搏、室性心动速的射频消融治疗，心动过缓，病态窦房结综合征的起搏器植入治疗等。','赣州市心血管专业委员会委员。','主持江西省卫生与计划委员课题一项，完成赣州市科技局课题二项。近年来发表SCI论文多篇。',1);
2019-08-23 23:29:37,595 INFO 1476 [egg-sequelize](83ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`title`,`resume`,`concurrent`,`achievement`,`secondOfficeId`) VALUES ('d1271860c5ba11e99addfd953ae706a2','袁文金','\\public\\image\\doctor\\face\\doctor6.jpg',1,'主任医师','冠心病学科带头人，西部之光访问学者。1990年9月—1995年7月就读于江西赣南医学院临床医学系，获医学学士； 2000年9月—2003年7月就读于广东汕头大学医学院，获医学硕士（内科学）；2005年11月在北京大学人民医院参加第16届高级心脏电生理学习班','曾赴意大利进修学习，从事临床工作二十余年，在各种心脏介入治疗和危重病人抢救上积累了丰富的经验，擅长冠心病的介入治疗，特别是复杂冠心病的介入治疗。','赣州市心血管专业委员会委员。',1);
2019-08-23 23:29:37,684 INFO 1476 [egg-sequelize](83ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`title`,`concurrent`,`secondOfficeId`) VALUES ('d13485e0c5ba11e99addfd953ae706a2','王诚高','\\public\\image\\doctor\\face\\doctor7.jpg',1,'副主任医师','临床规培医师导师，从事冠心病、高血压病、高脂血症、心肌病、心律失常、先心病等心血管疾病诊断及治疗，在冠心病、高血压病、高脂血症、心肌病方面拥有丰富经验，擅长冠心病的介入手术治疗',1);
2019-08-23 23:29:37,784 INFO 1476 [egg-sequelize](94ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`title`,`secondOfficeId`) VALUES ('d1421a70c5ba11e99addfd953ae706a2','谢绍峰','\\public\\image\\doctor\\face\\doctor8.jpg',1,'副主任医师',1);
2019-08-23 23:29:37,883 INFO 1476 [egg-sequelize](94ms) Executed (default): INSERT INTO `workInformations` (`id`,`department`,`registerType`,`date`,`classes`,`remaining`,`doctorId`) VALUES (1,'心血管内一科门诊（南院）','正高号',NULL,'上午',20,1);
2019-08-23 23:29:37,972 INFO 1476 [egg-sequelize](85ms) Executed (default): INSERT INTO `workInformations` (`id`,`department`,`registerType`,`date`,`classes`,`remaining`,`doctorId`) VALUES (2,'心血管内一科门诊（南院）','正高号',NULL,'下午',19,1);
2019-08-23 23:29:38,061 INFO 1476 [egg-sequelize](85ms) Executed (default): INSERT INTO `workInformations` (`id`,`department`,`registerType`,`date`,`classes`,`remaining`,`doctorId`) VALUES (3,'心血管内一科门诊（南院）','正高号',NULL,'上午',20,2);
2019-08-23 23:30:39,416 INFO 544 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 23:33:22,461 INFO 4480 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-23 23:34:37,398 INFO 14848 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 23:35:07,038 INFO 5764 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 23:37:20,879 INFO 10420 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 23:37:22,711 INFO 14804 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 23:37:51,042 INFO 14960 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-23 23:45:16,274 INFO 2928 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result

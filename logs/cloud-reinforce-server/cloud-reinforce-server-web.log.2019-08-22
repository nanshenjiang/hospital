2019-08-20 20:26:46,446 INFO 6604 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-20 20:38:58,180 INFO 1120 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-20 20:40:23,519 ERROR 1120 [-/127.0.0.1/-/0ms GET /] nodejs.ReferenceError: bcrypt is not defined
    at SetupController.initDevDatabase (D:\nodejs\nodejs\node_project\hospital\app\controller\setup.js:45:18)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at i18n (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-i18n\app\middleware\i18n.js:13:12)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\node_modules\koa-compose\index.js:42:32)
    at dta (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\lib\middlewares\dta.js:12:12)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\node_modules\koa-compose\index.js:42:32)
    at xframe (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\lib\middlewares\xframe.js:7:11)

pid: 1120
hostname: LAPTOP-57LT11PC

2019-08-20 20:40:27,368 INFO 1120 [egg-sequelize](727ms) Executed (default): DROP TABLE IF EXISTS `workInformations`;
2019-08-20 20:40:28,301 INFO 1120 [egg-sequelize](929ms) Executed (default): DROP TABLE IF EXISTS `users`;
2019-08-20 20:40:28,533 INFO 1120 [egg-sequelize](227ms) Executed (default): DROP TABLE IF EXISTS `roles`;
2019-08-20 20:40:28,866 INFO 1120 [egg-sequelize](324ms) Executed (default): DROP TABLE IF EXISTS `floors`;
2019-08-20 20:40:29,278 INFO 1120 [egg-sequelize](408ms) Executed (default): DROP TABLE IF EXISTS `files`;
2019-08-20 20:40:29,454 INFO 1120 [egg-sequelize](172ms) Executed (default): DROP TABLE IF EXISTS `introductions`;
2019-08-20 20:40:29,699 INFO 1120 [egg-sequelize](241ms) Executed (default): DROP TABLE IF EXISTS `doctors`;
2019-08-20 20:40:29,943 INFO 1120 [egg-sequelize](240ms) Executed (default): DROP TABLE IF EXISTS `secondOffices`;
2019-08-20 20:40:30,153 INFO 1120 [egg-sequelize](206ms) Executed (default): DROP TABLE IF EXISTS `firstOffices`;
2019-08-20 20:40:30,343 INFO 1120 [egg-sequelize](183ms) Executed (default): DROP TABLE IF EXISTS `buildings`;
2019-08-20 20:40:30,753 INFO 1120 [egg-sequelize](404ms) Executed (default): DROP TABLE IF EXISTS `appkeys`;
2019-08-20 20:40:30,814 INFO 1120 [egg-sequelize](52ms) Executed (default): DROP TABLE IF EXISTS `appkeys`;
2019-08-20 20:40:31,647 INFO 1120 [egg-sequelize](817ms) Executed (default): CREATE TABLE IF NOT EXISTS `appkeys` (`id` CHAR(36) BINARY NOT NULL , `code` VARCHAR(64), `expire_at` DATETIME, `is_auth` TINYINT(1) DEFAULT false, `created_at` DATETIME NOT NULL, `updated_at` DATETIME NOT NULL, PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-20 20:40:31,812 INFO 1120 [egg-sequelize](159ms) Executed (default): SHOW INDEX FROM `appkeys` FROM `hospital`
2019-08-20 20:40:31,857 INFO 1120 [egg-sequelize](35ms) Executed (default): DROP TABLE IF EXISTS `buildings`;
2019-08-20 20:40:32,246 INFO 1120 [egg-sequelize](382ms) Executed (default): CREATE TABLE IF NOT EXISTS `buildings` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25), `photoUrl` VARCHAR(256), `isMain` TINYINT(1) DEFAULT false, PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-20 20:40:32,297 INFO 1120 [egg-sequelize](46ms) Executed (default): SHOW INDEX FROM `buildings` FROM `hospital`
2019-08-20 20:40:32,334 INFO 1120 [egg-sequelize](31ms) Executed (default): DROP TABLE IF EXISTS `firstOffices`;
2019-08-20 20:40:32,706 INFO 1120 [egg-sequelize](346ms) Executed (default): CREATE TABLE IF NOT EXISTS `firstOffices` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25), PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-20 20:40:32,751 INFO 1120 [egg-sequelize](40ms) Executed (default): SHOW INDEX FROM `firstOffices` FROM `hospital`
2019-08-20 20:40:32,789 INFO 1120 [egg-sequelize](27ms) Executed (default): DROP TABLE IF EXISTS `secondOffices`;
2019-08-20 20:40:33,312 INFO 1120 [egg-sequelize](490ms) Executed (default): CREATE TABLE IF NOT EXISTS `secondOffices` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25), `firstOfficeId` CHAR(36) BINARY NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`firstOfficeId`) REFERENCES `firstOffices` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-20 20:40:33,383 INFO 1120 [egg-sequelize](65ms) Executed (default): SHOW INDEX FROM `secondOffices` FROM `hospital`
2019-08-20 20:40:33,460 INFO 1120 [egg-sequelize](36ms) Executed (default): DROP TABLE IF EXISTS `doctors`;
2019-08-20 20:40:33,884 INFO 1120 [egg-sequelize](418ms) Executed (default): CREATE TABLE IF NOT EXISTS `doctors` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25), `avatarUrl` VARCHAR(256), `gender` INTEGER, `post` VARCHAR(25), `title` VARCHAR(25), `resume` TEXT, `concurrent` TEXT, `achievement` TEXT, `speciality` TEXT, `secondOfficeId` CHAR(36) BINARY NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`secondOfficeId`) REFERENCES `secondOffices` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-20 20:40:33,972 INFO 1120 [egg-sequelize](81ms) Executed (default): SHOW INDEX FROM `doctors` FROM `hospital`
2019-08-20 20:40:34,036 INFO 1120 [egg-sequelize](31ms) Executed (default): DROP TABLE IF EXISTS `introductions`;
2019-08-20 20:40:34,376 INFO 1120 [egg-sequelize](327ms) Executed (default): CREATE TABLE IF NOT EXISTS `introductions` (`id` CHAR(36) BINARY NOT NULL , `message` VARCHAR(25), `description` TEXT, PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-20 20:40:34,426 INFO 1120 [egg-sequelize](45ms) Executed (default): SHOW INDEX FROM `introductions` FROM `hospital`
2019-08-20 20:40:34,464 INFO 1120 [egg-sequelize](33ms) Executed (default): DROP TABLE IF EXISTS `files`;
2019-08-20 20:40:35,059 INFO 1120 [egg-sequelize](566ms) Executed (default): CREATE TABLE IF NOT EXISTS `files` (`id` CHAR(36) BINARY NOT NULL , `filename` VARCHAR(64), `extname` VARCHAR(64), `relativePath` VARCHAR(256), `absolutePath` VARCHAR(256), `photoId` CHAR(36) BINARY NOT NULL, `createdAt` DATETIME, PRIMARY KEY (`id`), FOREIGN KEY (`photoId`) REFERENCES `introductions` (`id`) ON DELETE NO ACTION ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-20 20:40:35,137 INFO 1120 [egg-sequelize](72ms) Executed (default): SHOW INDEX FROM `files` FROM `hospital`
2019-08-20 20:40:35,208 INFO 1120 [egg-sequelize](36ms) Executed (default): DROP TABLE IF EXISTS `floors`;
2019-08-20 20:40:35,647 INFO 1120 [egg-sequelize](433ms) Executed (default): CREATE TABLE IF NOT EXISTS `floors` (`id` CHAR(36) BINARY NOT NULL , `name` INTEGER, `photoUrl` VARCHAR(256), `buildingId` CHAR(36) BINARY NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`buildingId`) REFERENCES `buildings` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-20 20:40:35,715 INFO 1120 [egg-sequelize](62ms) Executed (default): SHOW INDEX FROM `floors` FROM `hospital`
2019-08-20 20:40:35,790 INFO 1120 [egg-sequelize](36ms) Executed (default): DROP TABLE IF EXISTS `roles`;
2019-08-20 20:40:36,470 INFO 1120 [egg-sequelize](666ms) Executed (default): CREATE TABLE IF NOT EXISTS `roles` (`id` CHAR(36) BINARY NOT NULL , `name` VARCHAR(25) NOT NULL, `description` VARCHAR(200), PRIMARY KEY (`id`)) ENGINE=InnoDB;
2019-08-20 20:40:36,523 INFO 1120 [egg-sequelize](47ms) Executed (default): SHOW INDEX FROM `roles` FROM `hospital`
2019-08-20 20:40:36,559 INFO 1120 [egg-sequelize](30ms) Executed (default): DROP TABLE IF EXISTS `users`;
2019-08-20 20:40:37,126 INFO 1120 [egg-sequelize](542ms) Executed (default): CREATE TABLE IF NOT EXISTS `users` (`id` CHAR(36) BINARY NOT NULL , `username` VARCHAR(30) NOT NULL UNIQUE, `password` VARCHAR(60) NOT NULL, `created_at` DATETIME NOT NULL, `updated_at` DATETIME NOT NULL, `deleted_at` DATETIME, `role_id` CHAR(36) BINARY, PRIMARY KEY (`id`), FOREIGN KEY (`role_id`) REFERENCES `roles` (`id`) ON DELETE SET NULL ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-20 20:40:37,223 INFO 1120 [egg-sequelize](90ms) Executed (default): SHOW INDEX FROM `users` FROM `hospital`
2019-08-20 20:40:37,269 INFO 1120 [egg-sequelize](31ms) Executed (default): DROP TABLE IF EXISTS `workInformations`;
2019-08-20 20:40:37,804 INFO 1120 [egg-sequelize](492ms) Executed (default): CREATE TABLE IF NOT EXISTS `workInformations` (`id` CHAR(36) BINARY NOT NULL , `department` VARCHAR(25), `registerType` VARCHAR(25), `date` DATETIME, `classes` VARCHAR(25), `remaining` INTEGER, `doctorId` CHAR(36) BINARY NOT NULL, PRIMARY KEY (`id`), FOREIGN KEY (`doctorId`) REFERENCES `doctors` (`id`) ON DELETE CASCADE ON UPDATE CASCADE) ENGINE=InnoDB;
2019-08-20 20:40:37,879 INFO 1120 [egg-sequelize](69ms) Executed (default): SHOW INDEX FROM `workInformations` FROM `hospital`
2019-08-20 20:40:38,109 INFO 1120 [egg-sequelize](162ms) Executed (default): INSERT INTO `roles` (`id`,`name`,`description`) VALUES ('b6401c60c34711e9820363e5f3719826','管理员','管理员权限：可以查询所有用户信息，修改用户账号密码');
2019-08-20 20:40:38,245 INFO 1120 [egg-sequelize](77ms) Executed (default): INSERT INTO `roles` (`id`,`name`,`description`) VALUES ('b663f810c34711e9820363e5f3719826','用户','用户：可以进行普通操作');
2019-08-20 20:40:38,323 INFO 1120 [egg-sequelize](67ms) Executed (default): INSERT INTO `buildings` (`id`,`name`,`isMain`) VALUES ('b6718ca0c34711e9820363e5f3719826','医院总览图',true);
2019-08-20 20:40:43,493 INFO 1120 [egg-sequelize](102ms) Executed (default): INSERT INTO `firstOffices` (`id`,`name`) VALUES (1,'内科');
2019-08-20 20:40:43,571 INFO 1120 [egg-sequelize](69ms) Executed (default): INSERT INTO `firstOffices` (`id`,`name`) VALUES (2,'外科');
2019-08-20 20:40:43,650 INFO 1120 [egg-sequelize](67ms) Executed (default): INSERT INTO `firstOffices` (`id`,`name`) VALUES (3,'医技科室');
2019-08-20 20:40:43,726 INFO 1120 [egg-sequelize](66ms) Executed (default): INSERT INTO `secondOffices` (`id`,`name`,`firstOfficeId`) VALUES (1,'心血管内一科',1);
2019-08-20 20:40:43,804 INFO 1120 [egg-sequelize](68ms) Executed (default): INSERT INTO `secondOffices` (`id`,`name`,`firstOfficeId`) VALUES (2,'消化内科',1);
2019-08-20 20:40:43,884 INFO 1120 [egg-sequelize](70ms) Executed (default): INSERT INTO `secondOffices` (`id`,`name`,`firstOfficeId`) VALUES (3,'胃肠疝外科',2);
2019-08-20 20:40:43,959 INFO 1120 [egg-sequelize](67ms) Executed (default): INSERT INTO `secondOffices` (`id`,`name`,`firstOfficeId`) VALUES (4,'康复医学科',3);
2019-08-20 20:40:44,037 INFO 1120 [egg-sequelize](66ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`post`,`title`,`resume`,`concurrent`,`achievement`,`speciality`,`secondOfficeId`) VALUES (1,'曾康华','\\public\\image\\doctor\\face\\doctor1.jpg',2,'副院长','主任医师 、教授','南昌大学硕士生导师、心脏康复学科带头人、江西省政府特殊津贴专家、赣州市政府特殊津贴专家、赣南医学院兼职教授、全国“五一”劳动奖章获得者、江西省人大代表、赣州市“十佳”医务工作者。','中国心脏联盟委员、江西省康复医学会常委、赣州市康复医学会会长、赣州市康复医学会心血管专业委员会主委、赣州市医学会心血管专业委员会副主委。','完成省市级课题多项，多项成果获市科技进步奖。','在冠心病、高血压、心衰的诊断治疗上积累了丰富经验，率先在市级医院开展心脏康复，创建赣州市人民医院心脏康复亚专业。',1);
2019-08-20 20:40:44,392 INFO 1120 [egg-sequelize](53ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`post`,`title`,`resume`,`concurrent`,`achievement`,`speciality`,`secondOfficeId`) VALUES (2,'罗骏','\\public\\image\\doctor\\face\\doctor2.jpg',1,'党委委员、副院长、心血管内一科主任','主任医师 、教授','博士后，硕士研究生导师，曾在南京医科大学附属南京市第一医院和江西省人民医院长期工作并担任科室主任助理和副主任。曾在美国杜克大学和UCLA大学研修，从事心内科临床工作近三十年在心血管疑难危重病人抢救上积累了丰富的经验。','从事心血管临床工作三十余年，在心脏介入和心血管疑难危重病人诊治上积累了丰富的经验。擅长各种心脏病介入治疗，特别是在复杂冠心病支架术，复杂心律失常射频消融术，三腔起搏器植入及主动脉夹层经皮腔内隔绝等心脏介入治疗上积累丰富经验，年介入量千余台。较早开展房颤射频消融、经桡动脉冠脉介入、主动脉夹层介入治疗，指导省内外数十家医院开展心脏介入治疗。率先在赣州地区独立开展房颤的射频消融治疗、房颤的冷冻消融、左心耳封堵、零X线射频消融、无内腔起搏电极植入、FFR等介入技术。','主持国家自然基金、省自然基金等课题十余项，发表国家级论文数十篇，获市级科技成果奖多项，指导硕士研究生十余人。','硕士生导师、江西省百千万人才工程人选、江西省卫生计生系统有突出贡献中青年专家、江西省卫生系统学术和技术带头人培养对象、中国老年医学会心血管分会委员、江西省生物医学工程学会起博与电生理分会常委兼副秘书长、江西省心血管分会房颤工作组副组长、赣州医学会心血管分会副主任委员。',1);
2019-08-20 20:40:44,485 INFO 1120 [egg-sequelize](66ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`post`,`title`,`resume`,`concurrent`,`speciality`,`secondOfficeId`) VALUES (3,'汤建华','\\public\\image\\doctor\\face\\doctor3.jpg',1,'主任','主任医师','1986年参加工作，消化专业研究生毕业，获医学硕士学位。一直从事消化内科临床及内镜工作。','江西省肝病学会委员、江西省胃癌学会委员、赣州市消化病学会常委。','长期从事临床消化及内镜工作，理论扎实，经验丰富，擅长于消化系危、急、重症及疑难病例诊治，对消化系统常见病、多发病如食管疾病、胃肠疾病、胰腺病、慢性肝病的诊治有独到之处，熟练掌握上消化道内窥镜诊断及治疗操作，尤其是胆、胰疾病内镜下诊疗如胆管结石、胆管肿瘤、梗阻性黄疸、急慢性胰腺炎、胰腺囊肿、胰腺肿瘤、胰管结石等。',2);
2019-08-20 20:40:44,651 INFO 1120 [egg-sequelize](61ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`post`,`title`,`resume`,`concurrent`,`achievement`,`speciality`,`secondOfficeId`) VALUES ('ba3858a0c34711e9820363e5f3719826','陈友佳','\\public\\image\\doctor\\face\\doctor4.jpg',1,'党委委员、工会主席','主任医师','心脏重症学科带头人，中共党员，现任赣州市人民医院党委委员、工会主席。1993年7月毕业于赣南医学院；历任赣州市人民医院介入导管科副主任、放射介入科主任、心血管内科副主任（正科级）、门诊部主任兼心血管内科副主任、医务部主任兼心血管内科副主任；2017年9月起任赣州市人民医院工会主席。','较早在赣州开展介入治疗，在介入和心脏重症救治上积累了丰富经验，特别擅长外周血管和冠心病的介入治疗及危重患者的抢救。','江西省研究性医学会医疗分会副主任委员、江西省心血管专业委员会高血压学组成员、江西省介入心脏病学会第一届理事、赣州市医学会心血管分会常委。','完成省市级课题多项。',2);
2019-08-20 20:40:44,743 INFO 1120 [egg-sequelize](57ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`title`,`resume`,`concurrent`,`achievement`,`speciality`,`secondOfficeId`) VALUES ('ba46d790c34711e9820363e5f3719826','陈仁华','\\public\\image\\doctor\\face\\doctor5.jpg',1,'副主任医师','医学博士，心血管病专业，毕业于上海交通大学，副主任医师，从事心血管专业临床工作近20年，从事心血管介入诊疗10余年。先后在河北医科大学第一附属医院、南昌大学第一附属医院、首都医科大学附属安贞医院、上海交通大学附属新华医院、上海复旦大学附属中山医院进修、访问或学习，发表SCI论文多篇，理论知识扎实，临床经验丰富','擅长心血管系统危、急、重症抢救(如急性心肌梗死的急诊介入治疗和恶性心律失常的治疗)及疑难病例诊治；对心脏介入治疗如冠心病的支架植入治疗，大动脉夹层的覆膜支架腔内隔绝术等有很高的造诣，尤其擅长心律失常的诊治，如阵发性室上性心动过速、房性心动过速、心房颤动、室性早搏、室性心动速的射频消融治疗，心动过缓，病态窦房结综合征的起搏器植入治疗等。','赣州市心血管专业委员会委员。','主持江西省卫生与计划委员课题一项，完成赣州市科技局课题二项。近年来发表SCI论文多篇。',1);
2019-08-20 20:40:44,977 INFO 1120 [egg-sequelize](63ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`title`,`resume`,`concurrent`,`achievement`,`secondOfficeId`) VALUES ('ba6953b0c34711e9820363e5f3719826','袁文金','\\public\\image\\doctor\\face\\doctor6.jpg',1,'主任医师','冠心病学科带头人，西部之光访问学者。1990年9月—1995年7月就读于江西赣南医学院临床医学系，获医学学士； 2000年9月—2003年7月就读于广东汕头大学医学院，获医学硕士（内科学）；2005年11月在北京大学人民医院参加第16届高级心脏电生理学习班','曾赴意大利进修学习，从事临床工作二十余年，在各种心脏介入治疗和危重病人抢救上积累了丰富的经验，擅长冠心病的介入治疗，特别是复杂冠心病的介入治疗。','赣州市心血管专业委员会委员。',1);
2019-08-20 20:40:45,310 INFO 1120 [egg-sequelize](61ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`title`,`concurrent`,`secondOfficeId`) VALUES ('ba9c71a0c34711e9820363e5f3719826','王诚高','\\public\\image\\doctor\\face\\doctor7.jpg',1,'副主任医师','临床规培医师导师，从事冠心病、高血压病、高脂血症、心肌病、心律失常、先心病等心血管疾病诊断及治疗，在冠心病、高血压病、高脂血症、心肌病方面拥有丰富经验，擅长冠心病的介入手术治疗',1);
2019-08-20 20:40:45,439 INFO 1120 [egg-sequelize](66ms) Executed (default): INSERT INTO `doctors` (`id`,`name`,`avatarUrl`,`gender`,`title`,`secondOfficeId`) VALUES ('baaf8470c34711e9820363e5f3719826','谢绍峰','\\public\\image\\doctor\\face\\doctor8.jpg',1,'副主任医师',1);
2019-08-20 20:40:45,594 INFO 1120 [egg-sequelize](56ms) Executed (default): INSERT INTO `workInformations` (`id`,`department`,`registerType`,`date`,`classes`,`remaining`,`doctorId`) VALUES (1,'心血管内一科门诊（南院）','正高号',NULL,'上午',20,1);
2019-08-20 20:40:45,676 INFO 1120 [egg-sequelize](74ms) Executed (default): INSERT INTO `workInformations` (`id`,`department`,`registerType`,`date`,`classes`,`remaining`,`doctorId`) VALUES (2,'心血管内一科门诊（南院）','正高号',NULL,'下午',19,1);
2019-08-20 20:40:45,776 INFO 1120 [egg-sequelize](74ms) Executed (default): INSERT INTO `workInformations` (`id`,`department`,`registerType`,`date`,`classes`,`remaining`,`doctorId`) VALUES (3,'心血管内一科门诊（南院）','正高号',NULL,'上午',20,2);
2019-08-20 21:01:46,854 INFO 9148 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-20 21:01:50,973 INFO 2304 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-20 21:06:13,124 INFO 1132 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:02:59,530 INFO 7420 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:03:21,702 INFO 7420 [egg-sequelize](14ms) Executed (d06f2017-32ac-4342-b2f8-21fd88fab238): START TRANSACTION;
2019-08-21 18:03:21,761 INFO 7420 [egg-sequelize](47ms) Executed (d06f2017-32ac-4342-b2f8-21fd88fab238): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building`;
2019-08-21 18:03:21,768 INFO 7420 [egg-sequelize](0ms) Executed (d06f2017-32ac-4342-b2f8-21fd88fab238): COMMIT;
2019-08-21 18:03:34,666 ERROR 7420 [-/127.0.0.1/-/1ms GET /] nodejs.TypeError: service.doctor.findOneBuildingById is not a function
    at BuildingController.findOneBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:15:38)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at limit (D:\nodejs\nodejs\node_project\hospital\app\middleware\limit.js:32:11)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at i18n (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-i18n\app\middleware\i18n.js:13:12)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\node_modules\koa-compose\index.js:42:32)

pid: 7420
hostname: LAPTOP-57LT11PC

2019-08-21 18:04:00,364 INFO 14176 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:04:12,051 INFO 14176 [egg-sequelize](1ms) Executed (48232b13-739e-44a6-96cf-d683aa004d47): START TRANSACTION;
2019-08-21 18:04:12,149 INFO 14176 [egg-sequelize](75ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = 'b6718ca0c34711e9820363e5f3719826';
2019-08-21 18:04:12,157 INFO 14176 [egg-sequelize](0ms) Executed (48232b13-739e-44a6-96cf-d683aa004d47): COMMIT;
2019-08-21 18:06:05,333 INFO 15028 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:06:16,997 INFO 15116 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:06:20,361 ERROR 15116 [-/127.0.0.1/-/0ms GET /] nodejs.ReferenceError: path is not defined
    at BuildingController.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:35:21)
    at process._tickCallback (internal/process/next_tick.js:68:7)

pid: 15116
hostname: LAPTOP-57LT11PC

2019-08-21 18:06:53,463 INFO 14388 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:06:56,592 ERROR 14388 [-/127.0.0.1/-/0ms GET /] nodejs.TypeError: service.building.save is not a function
    at BuildingController.saveBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:70:38)
    at process._tickCallback (internal/process/next_tick.js:68:7)

pid: 14388
hostname: LAPTOP-57LT11PC

2019-08-21 18:07:48,469 INFO 15048 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:07:51,211 INFO 15048 [egg-sequelize](2ms) Executed (46e9fd05-d428-4387-838e-f92c758bae6a): START TRANSACTION;
2019-08-21 18:07:51,336 INFO 15048 [egg-sequelize](52ms) Executed (46e9fd05-d428-4387-838e-f92c758bae6a): INSERT INTO `buildings` (`id`,`name`,`photoUrl`,`isMain`) VALUES ('88e0eb00c3fb11e9a08921aa1275d2f7','test','\\public\\image\\hosptial\\building\\1566382077182.jpg',false);
2019-08-21 18:07:51,464 INFO 15048 [egg-sequelize](120ms) Executed (46e9fd05-d428-4387-838e-f92c758bae6a): COMMIT;
2019-08-21 18:08:09,989 INFO 15048 [egg-sequelize](0ms) Executed (fda891d0-02b0-4dc6-b648-23c198102515): START TRANSACTION;
2019-08-21 18:08:09,996 INFO 15048 [egg-sequelize](2ms) Executed (fda891d0-02b0-4dc6-b648-23c198102515): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building`;
2019-08-21 18:08:09,999 INFO 15048 [egg-sequelize](0ms) Executed (fda891d0-02b0-4dc6-b648-23c198102515): COMMIT;
2019-08-21 18:10:09,212 INFO 5712 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:12:56,290 INFO 2752 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:13:26,195 INFO 14704 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:14:37,640 INFO 14704 [egg-sequelize](1ms) Executed (3becf01c-86df-4b74-8342-eb0716e7cbec): START TRANSACTION;
2019-08-21 18:14:37,647 INFO 14704 [egg-sequelize](0ms) Executed (3becf01c-86df-4b74-8342-eb0716e7cbec): ROLLBACK;
2019-08-21 18:14:37,652 WARN 14704 [-/127.0.0.1/-/1ms GET /] nodejs.BadRequestError: Update Failed
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:94:20)
message: "Update Failed"
pid: 14704
hostname: LAPTOP-57LT11PC

2019-08-21 18:15:01,442 INFO 1340 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:15:41,113 INFO 3240 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:15:44,105 INFO 3240 [egg-sequelize](1ms) Executed (418d56b9-0f64-4dbf-9b98-1952dddfeeb5): START TRANSACTION;
2019-08-21 18:15:44,110 INFO 3240 [egg-sequelize](0ms) Executed (418d56b9-0f64-4dbf-9b98-1952dddfeeb5): ROLLBACK;
2019-08-21 18:15:44,113 WARN 3240 [-/127.0.0.1/-/1ms GET /] nodejs.BadRequestError: Update Failed
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:95:20)
message: "Update Failed"
pid: 3240
hostname: LAPTOP-57LT11PC

2019-08-21 18:16:48,547 INFO 3240 [egg-sequelize](1ms) Executed (3f040df2-1867-4b93-ae64-ac43968adca2): START TRANSACTION;
2019-08-21 18:16:48,551 INFO 3240 [egg-sequelize](1ms) Executed (3f040df2-1867-4b93-ae64-ac43968adca2): ROLLBACK;
2019-08-21 18:16:48,553 WARN 3240 [-/127.0.0.1/-/0ms GET /] nodejs.BadRequestError: Update Failed
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:95:20)
message: "Update Failed"
pid: 3240
hostname: LAPTOP-57LT11PC

2019-08-21 18:17:38,646 INFO 1432 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:17:47,375 INFO 1432 [egg-sequelize](1ms) Executed (6ba7a619-637a-4c5d-af5b-b4551594118d): START TRANSACTION;
2019-08-21 18:17:47,379 INFO 1432 [egg-sequelize](0ms) Executed (6ba7a619-637a-4c5d-af5b-b4551594118d): ROLLBACK;
2019-08-21 18:17:47,397 WARN 1432 [-/127.0.0.1/-/0ms GET /] nodejs.BadRequestError: Update Failed
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:95:20)
message: "Update Failed"
pid: 1432
hostname: LAPTOP-57LT11PC

2019-08-21 18:18:19,793 INFO 14300 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:18:22,220 INFO 14300 [egg-sequelize](1ms) Executed (380688b9-69e8-48dd-906e-08410689eb25): START TRANSACTION;
2019-08-21 18:18:22,232 ERROR 14300 [-/127.0.0.1/-/1ms GET /] nodejs.ReferenceError: t is not defined
    at BuildingService.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:77:12)

pid: 14300
hostname: LAPTOP-57LT11PC

2019-08-21 18:18:34,702 INFO 14436 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:18:36,579 ERROR 14436 [-/127.0.0.1/-/1ms GET /] nodejs.ReferenceError: t is not defined
    at BuildingService.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:78:79)
    at BuildingController.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:121:40)
    at process._tickCallback (internal/process/next_tick.js:68:7)

pid: 14436
hostname: LAPTOP-57LT11PC

2019-08-21 18:19:02,124 INFO 10940 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:19:04,225 ERROR 10940 [-/127.0.0.1/-/0ms GET /] nodejs.Error: Argument passed to findByPk is invalid: [object Object]
    at Function.findByPk (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:1714:13)
    at Function.Model.findById (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:4209:25)
    at BuildingService.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:78:54)
    at BuildingController.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:121:40)
    at process._tickCallback (internal/process/next_tick.js:68:7)

pid: 10940
hostname: LAPTOP-57LT11PC

2019-08-21 18:19:40,361 INFO 14344 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:19:58,040 INFO 14444 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:20:00,554 ERROR 14444 [-/127.0.0.1/-/1ms GET /] nodejs.Error: Argument passed to findByPk is invalid: [object Object]
    at Function.findByPk (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:1714:13)
    at Function.Model.findById (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:4209:25)
    at BuildingService.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:80:54)
    at BuildingController.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:121:40)
    at process._tickCallback (internal/process/next_tick.js:68:7)

pid: 14444
hostname: LAPTOP-57LT11PC

2019-08-21 18:21:03,430 INFO 9828 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:21:17,409 ERROR 9828 [-/127.0.0.1/-/1ms GET /] nodejs.Error: Argument passed to findByPk is invalid: [object Object]
    at Function.findByPk (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:1714:13)
    at BuildingService.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:80:54)
    at BuildingController.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:121:40)
    at process._tickCallback (internal/process/next_tick.js:68:7)

pid: 9828
hostname: LAPTOP-57LT11PC

2019-08-21 18:28:36,093 INFO 9264 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:28:42,825 ERROR 9264 [-/127.0.0.1/-/0ms GET /] nodejs.Error: Argument passed to findByPk is invalid: [object Object]
    at Function.findByPk (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:1714:13)
    at BuildingService.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:80:54)
    at BuildingController.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:121:40)
    at process._tickCallback (internal/process/next_tick.js:68:7)

pid: 9264
hostname: LAPTOP-57LT11PC

2019-08-21 18:29:00,298 INFO 8400 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:30:03,166 INFO 11780 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:30:09,214 ERROR 11780 [-/127.0.0.1/-/0ms GET /] nodejs.InternalServerError: Internal Server Error
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:82:22)
message: "Internal Server Error"
pid: 11780
hostname: LAPTOP-57LT11PC

2019-08-21 18:30:51,689 INFO 11136 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:30:56,060 INFO 11136 [egg-sequelize](1ms) Executed (default): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building` WHERE `building`.`id` = '88e0eb00c3fb11e9a08921aa1275d2f7';
2019-08-21 18:30:56,086 ERROR 11136 [-/127.0.0.1/-/1ms GET /] nodejs.ReferenceError: path is not defined
    at BuildingService.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:87:27)

pid: 11136
hostname: LAPTOP-57LT11PC

2019-08-21 18:31:49,153 INFO 12264 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:31:54,130 INFO 12264 [egg-sequelize](1ms) Executed (982df40a-566f-481e-91ad-8c29e136a4ea): START TRANSACTION;
2019-08-21 18:31:54,150 INFO 12264 [egg-sequelize](2ms) Executed (982df40a-566f-481e-91ad-8c29e136a4ea): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building` WHERE `building`.`id` = '88e0eb00c3fb11e9a08921aa1275d2f7';
2019-08-21 18:31:54,174 INFO 12264 [egg-sequelize](2ms) Executed (982df40a-566f-481e-91ad-8c29e136a4ea): UPDATE `buildings` SET `name`='test2',`photoUrl`='\\public\\image\\hosptial\\building\\1566383523982.jpg' WHERE `id` = '88e0eb00c3fb11e9a08921aa1275d2f7'
2019-08-21 18:31:54,359 INFO 12264 [egg-sequelize](164ms) Executed (982df40a-566f-481e-91ad-8c29e136a4ea): COMMIT;
2019-08-21 18:43:53,675 INFO 11012 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:44:13,936 INFO 13648 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:45:34,810 INFO 13944 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:46:20,450 INFO 7308 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:46:31,235 INFO 7308 [egg-sequelize](5ms) Executed (default): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building` WHERE `building`.`id` = '88e0eb00c3fb11e9a08921aa1275d2f7';
2019-08-21 18:46:31,490 INFO 7308 [egg-sequelize](224ms) Executed (default): DELETE FROM `buildings` WHERE `id` = '88e0eb00c3fb11e9a08921aa1275d2f7' LIMIT 1
2019-08-21 18:47:37,705 INFO 7308 [egg-sequelize](3ms) Executed (default): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building` WHERE `building`.`id` = 'b6718ca0c34711e9820363e5f3719826';
2019-08-21 18:47:37,714 WARN 7308 [-/127.0.0.1/-/0ms GET /] nodejs.BadRequestError: 医院总览图无法删除
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.deleteBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:114:20)
message: "医院总览图无法删除"
pid: 7308
hostname: LAPTOP-57LT11PC

2019-08-21 18:50:06,196 INFO 7308 [egg-sequelize](1ms) Executed (90a4a63a-c6d9-49eb-9df0-08711da03978): START TRANSACTION;
2019-08-21 18:50:06,203 INFO 7308 [egg-sequelize](2ms) Executed (90a4a63a-c6d9-49eb-9df0-08711da03978): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building` WHERE `building`.`id` = 'b6718ca0c34711e9820363e5f3719826';
2019-08-21 18:50:06,229 INFO 7308 [egg-sequelize](1ms) Executed (90a4a63a-c6d9-49eb-9df0-08711da03978): UPDATE `buildings` SET `name`='test2',`photoUrl`='\\public\\image\\hosptial\\building\\1566384607788.jpg' WHERE `id` = 'b6718ca0c34711e9820363e5f3719826'
2019-08-21 18:50:06,413 INFO 7308 [egg-sequelize](180ms) Executed (90a4a63a-c6d9-49eb-9df0-08711da03978): COMMIT;
2019-08-21 18:54:48,856 INFO 11680 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:55:41,948 INFO 5896 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 18:56:15,035 INFO 5896 [egg-sequelize](0ms) Executed (1bc5df06-dc2a-4a6d-bc04-ebed5900b282): START TRANSACTION;
2019-08-21 18:56:15,049 INFO 5896 [egg-sequelize](1ms) Executed (1bc5df06-dc2a-4a6d-bc04-ebed5900b282): INSERT INTO `buildings` (`id`,`name`,`photoUrl`,`isMain`) VALUES ('4bb124f0c40211e9a4274bbea3743807','test','\\public\\image\\hosptial\\building\\1566384980665.jpg',false);
2019-08-21 18:56:15,246 INFO 5896 [egg-sequelize](188ms) Executed (1bc5df06-dc2a-4a6d-bc04-ebed5900b282): COMMIT;
2019-08-21 18:56:38,332 INFO 5896 [egg-sequelize](0ms) Executed (2fd7ca9f-3eae-451d-bfea-49543dced6c3): START TRANSACTION;
2019-08-21 18:56:38,340 INFO 5896 [egg-sequelize](2ms) Executed (2fd7ca9f-3eae-451d-bfea-49543dced6c3): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building`;
2019-08-21 18:56:38,353 INFO 5896 [egg-sequelize](0ms) Executed (2fd7ca9f-3eae-451d-bfea-49543dced6c3): COMMIT;
2019-08-21 18:57:17,346 INFO 5896 [egg-sequelize](1ms) Executed (20b1dd27-feee-4c57-950b-92a2bd5b26be): START TRANSACTION;
2019-08-21 18:57:17,367 INFO 5896 [egg-sequelize](4ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = 'b6718ca0c34711e9820363e5f3719826';
2019-08-21 18:57:17,386 INFO 5896 [egg-sequelize](1ms) Executed (20b1dd27-feee-4c57-950b-92a2bd5b26be): COMMIT;
2019-08-21 19:02:06,631 INFO 8660 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:02:12,519 INFO 14600 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:02:24,997 INFO 2368 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:10:17,885 INFO 3116 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:14:02,507 INFO 7028 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:14:39,123 ERROR 7028 [-/127.0.0.1/-/1ms GET /] nodejs.ReferenceError: app is not defined
    at BuildingService.deleteBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:109:20)
    at BuildingController.deleteBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:129:32)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at limit (D:\nodejs\nodejs\node_project\hospital\app\middleware\limit.js:32:11)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at i18n (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-i18n\app\middleware\i18n.js:13:12)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)

pid: 7028
hostname: LAPTOP-57LT11PC

2019-08-21 19:15:03,028 INFO 620 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:15:14,903 INFO 620 [egg-sequelize](2ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '4bb124f0c40211e9a4274bbea3743807';
2019-08-21 19:15:14,924 ERROR 620 [-/127.0.0.1/-/0ms GET /] nodejs.ReferenceError: debug is not defined
    at BuildingService.deleteBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:112:9)

pid: 620
hostname: LAPTOP-57LT11PC

2019-08-21 19:15:36,855 INFO 8972 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:15:39,602 INFO 8972 [egg-sequelize](3ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '4bb124f0c40211e9a4274bbea3743807';
2019-08-21 19:15:39,854 INFO 8972 [egg-sequelize](137ms) Executed (default): DELETE FROM `buildings` WHERE `id` = '4bb124f0c40211e9a4274bbea3743807' LIMIT 1
2019-08-21 19:16:18,611 INFO 12528 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:17:09,830 INFO 12528 [egg-sequelize](4ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:17:10,068 INFO 12528 [egg-sequelize](184ms) Executed (default): DELETE FROM `buildings` WHERE `id` = '1' LIMIT 1
2019-08-21 19:17:38,200 INFO 12528 [egg-sequelize](2ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:17:38,372 INFO 12528 [egg-sequelize](167ms) Executed (default): DELETE FROM `buildings` WHERE `id` = '1' LIMIT 1
2019-08-21 19:17:50,520 INFO 3172 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:18:03,471 INFO 3172 [egg-sequelize](2ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:18:03,758 INFO 3172 [egg-sequelize](156ms) Executed (default): DELETE FROM `buildings` WHERE `id` = '1' LIMIT 1
2019-08-21 19:19:22,433 INFO 5072 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:19:46,479 INFO 5072 [egg-sequelize](4ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:19:46,710 INFO 5072 [egg-sequelize](152ms) Executed (default): DELETE FROM `buildings` WHERE `id` = '1' LIMIT 1
2019-08-21 19:20:04,462 INFO 5852 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:20:13,909 INFO 5852 [egg-sequelize](3ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:20:14,070 INFO 5852 [egg-sequelize](152ms) Executed (default): DELETE FROM `buildings` WHERE `id` = '1' LIMIT 1
2019-08-21 19:20:39,070 INFO 13984 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:20:53,134 INFO 13232 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:20:57,622 INFO 13232 [egg-sequelize](3ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:20:57,632 ERROR 13232 [-/127.0.0.1/-/0ms GET /] nodejs.TypeError: building.floor is not iterable
    at BuildingService.deleteBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:125:29)

pid: 13232
hostname: LAPTOP-57LT11PC

2019-08-21 19:21:07,501 INFO 6744 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:21:18,820 INFO 6744 [egg-sequelize](3ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:21:19,065 INFO 6744 [egg-sequelize](233ms) Executed (default): DELETE FROM `buildings` WHERE `id` = '1' LIMIT 1
2019-08-21 19:22:58,488 INFO 10364 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:23:17,460 INFO 10364 [egg-sequelize](3ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:23:17,617 INFO 10364 [egg-sequelize](143ms) Executed (default): DELETE FROM `buildings` WHERE `id` = '1' LIMIT 1
2019-08-21 19:23:53,783 INFO 10364 [egg-sequelize](1ms) Executed (c86bbf2c-ef68-43d8-a57b-35d36d7c458e): START TRANSACTION;
2019-08-21 19:23:53,787 INFO 10364 [egg-sequelize](2ms) Executed (c86bbf2c-ef68-43d8-a57b-35d36d7c458e): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building`;
2019-08-21 19:23:53,801 INFO 10364 [egg-sequelize](1ms) Executed (c86bbf2c-ef68-43d8-a57b-35d36d7c458e): COMMIT;
2019-08-21 19:24:16,223 INFO 10364 [egg-sequelize](1ms) Executed (a0cfacb9-ddad-4b56-817f-ded01005325e): START TRANSACTION;
2019-08-21 19:24:16,230 INFO 10364 [egg-sequelize](2ms) Executed (a0cfacb9-ddad-4b56-817f-ded01005325e): SELECT `id`, `name`, `photoUrl`, `isMain` FROM `buildings` AS `building`;
2019-08-21 19:24:16,249 INFO 10364 [egg-sequelize](0ms) Executed (a0cfacb9-ddad-4b56-817f-ded01005325e): COMMIT;
2019-08-21 19:24:32,814 INFO 10364 [egg-sequelize](0ms) Executed (d7505295-d3c1-42f8-b29c-9203e2aee22c): START TRANSACTION;
2019-08-21 19:24:32,822 INFO 10364 [egg-sequelize](1ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:24:32,835 INFO 10364 [egg-sequelize](0ms) Executed (d7505295-d3c1-42f8-b29c-9203e2aee22c): COMMIT;
2019-08-21 19:25:01,784 INFO 10364 [egg-sequelize](0ms) Executed (2d26e6af-19b0-419a-aa75-2c33654c2de0): START TRANSACTION;
2019-08-21 19:25:01,792 INFO 10364 [egg-sequelize](1ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:25:01,807 INFO 10364 [egg-sequelize](0ms) Executed (2d26e6af-19b0-419a-aa75-2c33654c2de0): COMMIT;
2019-08-21 19:25:38,776 INFO 10364 [egg-sequelize](1ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:25:38,809 ERROR 10364 [-/127.0.0.1/-/0ms GET /] nodejs.ReferenceError: obj is not defined
    at BuildingService.deleteBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:128:13)

pid: 10364
hostname: LAPTOP-57LT11PC

2019-08-21 19:26:07,764 INFO 7720 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:26:14,778 INFO 7720 [egg-sequelize](4ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:26:14,997 INFO 7720 [egg-sequelize](203ms) Executed (default): DELETE FROM `buildings` WHERE `id` = '1' LIMIT 1
2019-08-21 19:27:01,094 INFO 7720 [egg-sequelize](2ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:27:01,242 INFO 7720 [egg-sequelize](143ms) Executed (default): DELETE FROM `buildings` WHERE `id` = '1' LIMIT 1
2019-08-21 19:27:54,220 INFO 10252 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:28:25,592 INFO 10252 [egg-sequelize](0ms) Executed (0f9fa518-8f06-48e9-8b8f-c668ed181f71): START TRANSACTION;
2019-08-21 19:28:25,609 INFO 10252 [egg-sequelize](2ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:28:25,617 INFO 10252 [egg-sequelize](0ms) Executed (0f9fa518-8f06-48e9-8b8f-c668ed181f71): COMMIT;
2019-08-21 19:28:29,602 INFO 10252 [egg-sequelize](2ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:28:29,668 ERROR 10252 [-/127.0.0.1/-/1ms GET /] nodejs.ReferenceError: obj is not defined
    at BuildingService.deleteBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:128:13)

pid: 10252
hostname: LAPTOP-57LT11PC

2019-08-21 19:29:01,933 INFO 6696 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:29:04,794 INFO 6696 [egg-sequelize](2ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:29:05,064 INFO 6696 [egg-sequelize](208ms) Executed (default): DELETE FROM `buildings` WHERE `id` = '1' LIMIT 1
2019-08-21 19:31:47,296 INFO 5772 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:32:31,251 INFO 5772 [egg-sequelize](3ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:32:31,272 ERROR 5772 [-/127.0.0.1/-/0ms GET /] nodejs.ReferenceError: exp is not defined
    at BuildingService.deleteBuilding (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:127:21)

pid: 5772
hostname: LAPTOP-57LT11PC

2019-08-21 19:32:44,437 INFO 13552 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:32:51,236 INFO 13552 [egg-sequelize](2ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 19:32:51,348 INFO 13552 [egg-sequelize](101ms) Executed (default): DELETE FROM `floors` WHERE `id` = '1' LIMIT 1
2019-08-21 19:32:51,426 INFO 13552 [egg-sequelize](75ms) Executed (default): DELETE FROM `buildings` WHERE `id` = '1' LIMIT 1
2019-08-21 19:33:10,920 INFO 1016 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:34:37,594 INFO 7592 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:35:11,637 INFO 1648 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:36:06,388 INFO 3524 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:38:10,285 INFO 14952 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:38:14,063 INFO 13680 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:44:22,451 INFO 12600 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:45:55,527 INFO 13272 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:46:44,623 INFO 5588 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:46:48,022 INFO 13300 [egg-sequelize](5ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:55:03,891 INFO 1908 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-08-21 19:56:22,513 INFO 14892 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 20:00:47,745 INFO 4392 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 20:00:54,023 INFO 3200 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-08-21 20:02:51,342 INFO 3200 [egg-sequelize](2ms) Executed (b7213dc7-2290-4473-8bd3-b3ac580940ca): START TRANSACTION;
2019-08-21 20:02:51,384 INFO 3200 [egg-sequelize](2ms) Executed (b7213dc7-2290-4473-8bd3-b3ac580940ca): INSERT INTO `floors` (`id`,`name`,`photoUrl`,`buildingId`) VALUES ('99adf670c40b11e9834927919a49410f','test','\\public\\image\\hosptial\\building\\floors\\1566388978733.jpg','1');
2019-08-21 20:02:51,406 INFO 3200 [egg-sequelize](1ms) Executed (b7213dc7-2290-4473-8bd3-b3ac580940ca): ROLLBACK;
2019-08-21 20:02:51,416 WARN 3200 [-/127.0.0.1/-/1ms GET /] nodejs.BadRequestError: Update Failed
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.saveFloor (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:186:18)
message: "Update Failed"
pid: 3200
hostname: LAPTOP-57LT11PC

2019-08-21 20:04:31,012 INFO 7580 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 20:04:38,348 INFO 12800 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-08-21 20:06:36,087 INFO 6732 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 20:06:41,516 INFO 6732 [egg-sequelize](2ms) Executed (default): INSERT INTO `floors` (`id`,`name`,`photoUrl`,`buildingId`) VALUES ('22d7a400c40c11e9a4b0b771c4c69a22','test','\\public\\image\\hosptial\\building\\floors\\1566389204730.jpg','1');
2019-08-21 20:06:41,690 ERROR 6732 [-/127.0.0.1/-/0ms GET /] nodejs.SequelizeDatabaseError: Incorrect integer value: 'test' for column 'name' at row 1
    at Query.formatError (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:247:16)
    at Query.handler [as onResult] (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:68:23)
    at Query.execute (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\commands\command.js:30:14)
    at Connection.handlePacket (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:449:32)
    at PacketParser.Connection.packetParser.p [as onPacket] (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:72:12)
    at PacketParser.executeStart (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\packet_parser.js:75:16)
    at Socket.Connection.stream.on.data (D:\nodejs\nodejs\node_project\hospital\node_modules\mysql2\lib\connection.js:79:25)
    at Socket.emit (events.js:198:13)
    at addChunk (_stream_readable.js:288:12)
    at readableAddChunk (_stream_readable.js:269:11)
    at Socket.Readable.push (_stream_readable.js:224:10)
    at TCP.onStreamRead [as onread] (internal/stream_base_commons.js:94:17)
From previous event:
    at Query.run (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\dialects\mysql\query.js:57:12)
    at Promise.try.then.connection (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:561:20)
From previous event:
    at Promise.resolve.retryParameters (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:558:8)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\retry-as-promised\index.js:39:21
    at retryAsPromised (D:\nodejs\nodejs\node_project\hospital\node_modules\retry-as-promised\index.js:29:10)
    at Sequelize.query (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\sequelize.js:457:28)
    at QueryInterface.insert (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\query-interface.js:901:27)
    at Promise.try.then.then.then (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:3685:53)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at model.save (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:3661:8)
    at Function.create (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:2023:8)
    at BuildingService.saveFloor (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:179:41)
    at BuildingController.saveFloor (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:207:38)
    at process._tickCallback (internal/process/next_tick.js:68:7)
name: "SequelizeDatabaseError"
parent: {"code":"ER_TRUNCATED_WRONG_VALUE_FOR_FIELD","errno":1366,"sqlState":"HY000","sqlMessage":"Incorrect integer value: 'test' for column 'name' at row 1","sql":"INSERT INTO `floors` (`id`,`name`,`photoUrl`,`buildingId`) VALUES ('22d7a400c40c11e9a4b0b771c4c69a22','test','\\\\public\\\\image\\\\hosptial\\\\building\\\\floors\\\\1566389204730.jpg','1');"}
original: {"code":"ER_TRUNCATED_WRONG_VALUE_FOR_FIELD","errno":1366,"sqlState":"HY000","sqlMessage":"Incorrect integer value: 'test' for column 'name' at row 1","sql":"INSERT INTO `floors` (`id`,`name`,`photoUrl`,`buildingId`) VALUES ('22d7a400c40c11e9a4b0b771c4c69a22','test','\\\\public\\\\image\\\\hosptial\\\\building\\\\floors\\\\1566389204730.jpg','1');"}
sql: "INSERT INTO `floors` (`id`,`name`,`photoUrl`,`buildingId`) VALUES ('22d7a400c40c11e9a4b0b771c4c69a22','test','\\\\public\\\\image\\\\hosptial\\\\building\\\\floors\\\\1566389204730.jpg','1');"
pid: 6732
hostname: LAPTOP-57LT11PC

2019-08-21 20:06:43,875 INFO 4964 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 20:07:19,654 INFO 6268 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 20:07:23,061 INFO 6268 [egg-sequelize](2ms) Executed (9dcee2a8-425b-45ca-92b1-5e4228c7f713): START TRANSACTION;
2019-08-21 20:07:23,134 INFO 6268 [egg-sequelize](3ms) Executed (9dcee2a8-425b-45ca-92b1-5e4228c7f713): INSERT INTO `floors` (`id`,`name`,`photoUrl`,`buildingId`) VALUES ('3ba6ce70c40c11e9be2b9521695ac21c','1','\\public\\image\\hosptial\\building\\floors\\1566389249806.jpg','1');
2019-08-21 20:07:23,341 INFO 6268 [egg-sequelize](188ms) Executed (9dcee2a8-425b-45ca-92b1-5e4228c7f713): COMMIT;
2019-08-21 20:07:55,537 INFO 6268 [egg-sequelize](1ms) Executed (613ca6de-72bd-4913-a577-d004fca16678): START TRANSACTION;
2019-08-21 20:07:55,586 INFO 6268 [egg-sequelize](5ms) Executed (default): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`buildingId` = '1';
2019-08-21 20:07:55,599 INFO 6268 [egg-sequelize](1ms) Executed (613ca6de-72bd-4913-a577-d004fca16678): COMMIT;
2019-08-21 20:08:06,872 INFO 6268 [egg-sequelize](0ms) Executed (41a6c867-7451-4b73-ae3b-311a0dfb1956): START TRANSACTION;
2019-08-21 20:08:06,887 INFO 6268 [egg-sequelize](2ms) Executed (41a6c867-7451-4b73-ae3b-311a0dfb1956): INSERT INTO `floors` (`id`,`name`,`photoUrl`,`buildingId`) VALUES ('55bf8fe0c40c11e9be2b9521695ac21c','2','\\public\\image\\hosptial\\building\\floors\\1566389295903.jpg','1');
2019-08-21 20:08:07,055 INFO 6268 [egg-sequelize](163ms) Executed (41a6c867-7451-4b73-ae3b-311a0dfb1956): COMMIT;
2019-08-21 20:08:11,431 INFO 6268 [egg-sequelize](1ms) Executed (67810d4b-e497-4bd0-b2e9-1b643dc9d177): START TRANSACTION;
2019-08-21 20:08:11,452 INFO 6268 [egg-sequelize](1ms) Executed (67810d4b-e497-4bd0-b2e9-1b643dc9d177): ROLLBACK;
2019-08-21 20:08:11,462 WARN 6268 [-/127.0.0.1/-/1ms GET /] nodejs.BadRequestError: Update Failed
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.saveFloor (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:187:18)
message: "Update Failed"
pid: 6268
hostname: LAPTOP-57LT11PC

2019-08-21 20:08:40,133 INFO 6268 [egg-sequelize](2ms) Executed (284a66e4-96db-43d8-9dac-2628ffd9a290): START TRANSACTION;
2019-08-21 20:08:40,156 INFO 6268 [egg-sequelize](3ms) Executed (284a66e4-96db-43d8-9dac-2628ffd9a290): INSERT INTO `floors` (`id`,`name`,`photoUrl`,`buildingId`) VALUES ('69938d00c40c11e9be2b9521695ac21c','3','\\public\\image\\hosptial\\building\\floors\\1566389325412.jpg','1');
2019-08-21 20:08:40,285 INFO 6268 [egg-sequelize](123ms) Executed (284a66e4-96db-43d8-9dac-2628ffd9a290): COMMIT;
2019-08-21 20:09:02,533 INFO 1752 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-08-21 20:10:42,548 INFO 10076 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 20:10:49,132 INFO 9732 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 20:18:19,397 INFO 9732 [egg-sequelize](2ms) Executed (1d82d61c-322d-4997-9376-53fa48097add): START TRANSACTION;
2019-08-21 20:18:19,445 INFO 9732 [egg-sequelize](9ms) Executed (default): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`buildingId` = '1';
2019-08-21 20:18:19,459 INFO 9732 [egg-sequelize](1ms) Executed (1d82d61c-322d-4997-9376-53fa48097add): COMMIT;
2019-08-21 20:19:23,443 INFO 9732 [egg-sequelize](1ms) Executed (50630ec7-af9d-4566-830a-3ac10e764d64): START TRANSACTION;
2019-08-21 20:19:23,488 INFO 9732 [egg-sequelize](2ms) Executed (50630ec7-af9d-4566-830a-3ac10e764d64): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`id` = '69938d00c40c11e9be2b9521695ac21c';
2019-08-21 20:19:23,559 INFO 9732 [egg-sequelize](1ms) Executed (50630ec7-af9d-4566-830a-3ac10e764d64): ROLLBACK;
2019-08-21 20:19:23,572 WARN 9732 [-/127.0.0.1/-/1ms GET /] nodejs.BadRequestError: Update Failed
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.updateFloor (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:214:18)
message: "Update Failed"
pid: 9732
hostname: LAPTOP-57LT11PC

2019-08-21 20:20:02,903 INFO 15276 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-08-21 20:20:38,241 INFO 7644 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-08-21 20:20:51,872 INFO 6272 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 20:20:54,920 INFO 6272 [egg-sequelize](4ms) Executed (default): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`id` = '69938d00c40c11e9be2b9521695ac21c';
2019-08-21 20:20:54,974 ERROR 6272 [-/127.0.0.1/-/0ms GET /] nodejs.ENOENTError: ENOENT: no such file or directory, unlink 'D:\nodejs\nodejs\node_project\hospital\app\public\image\hosptial\building\floors\1566389325412.jpg'
    at Object.unlinkSync (fs.js:956:3)
    at BuildingService.updateFloor (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:207:14)
errno: -4058
syscall: "unlink"
code: "ENOENT"
path: "D:\\nodejs\\nodejs\\node_project\\hospital\\app\\public\\image\\hosptial\\building\\floors\\1566389325412.jpg"
name: "ENOENTError"
pid: 6272
hostname: LAPTOP-57LT11PC

2019-08-21 20:22:21,034 INFO 6272 [egg-sequelize](3ms) Executed (default): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`id` = '69938d00c40c11e9be2b9521695ac21c';
2019-08-21 20:22:21,224 ERROR 6272 [-/127.0.0.1/-/0ms GET /] nodejs.SequelizeValidationError: notNull Violation: floor.buildingId cannot be null
    at Promise.all.then (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\instance-validator.js:74:15)
From previous event:
    at InstanceValidator._validate (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\instance-validator.js:72:7)
    at runHooks.then (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\instance-validator.js:107:14)
    at runCallback (timers.js:705:18)
    at tryOnImmediate (timers.js:676:5)
    at processImmediate (timers.js:658:5)
From previous event:
    at InstanceValidator._validateAndRunHooks (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\instance-validator.js:106:8)
    at InstanceValidator.validate (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\instance-validator.js:90:38)
    at model.validate (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:3823:49)
    at Promise.try (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:3600:21)
From previous event:
    at model.save (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:3597:23)
    at model.update (D:\nodejs\nodejs\node_project\hospital\node_modules\sequelize\lib\model.js:3857:17)
    at BuildingService.updateFloor (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:210:34)
name: "SequelizeValidationError"
errors: [{"message":"floor.buildingId cannot be null","type":"notNull Violation","path":"buildingId","value":null,"origin":"CORE","instance":{"id":"69938d00c40c11e9be2b9521695ac21c","name":"4","photoUrl":"\\public\\image\\hosptial\\building\\floors\\1566390145097.jpg"},"validatorKey":"is_null","validatorName":null,"validatorArgs":[]}]
pid: 6272
hostname: LAPTOP-57LT11PC

2019-08-21 20:23:43,782 INFO 3012 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-08-21 20:24:51,379 INFO 3012 [egg-sequelize](1ms) Executed (a1dfb191-2418-40be-bafc-9432e777fea9): START TRANSACTION;
2019-08-21 20:24:51,456 INFO 3012 [egg-sequelize](4ms) Executed (a1dfb191-2418-40be-bafc-9432e777fea9): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`id` = '69938d00c40c11e9be2b9521695ac21c';
2019-08-21 20:24:51,504 INFO 3012 [egg-sequelize](3ms) Executed (a1dfb191-2418-40be-bafc-9432e777fea9): UPDATE `floors` SET `name`='4',`photoUrl`='\\public\\image\\hosptial\\building\\floors\\1566390299628.jpg' WHERE `id` = '69938d00c40c11e9be2b9521695ac21c'
2019-08-21 20:24:51,682 INFO 3012 [egg-sequelize](169ms) Executed (a1dfb191-2418-40be-bafc-9432e777fea9): COMMIT;
2019-08-21 20:25:08,010 INFO 3012 [egg-sequelize](1ms) Executed (3e04a5ae-5a0a-4670-b470-3ef0c54bb2e2): START TRANSACTION;
2019-08-21 20:25:08,030 INFO 3012 [egg-sequelize](3ms) Executed (default): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`buildingId` = '1';
2019-08-21 20:25:08,038 INFO 3012 [egg-sequelize](1ms) Executed (3e04a5ae-5a0a-4670-b470-3ef0c54bb2e2): COMMIT;
2019-08-21 20:26:58,136 INFO 7112 [egg-sequelize](3ms) Executed (default): SELECT 1+1 AS result
2019-08-21 20:27:05,966 INFO 7112 [egg-sequelize](1ms) Executed (be5a76d2-f086-4aa9-918e-d171fe808f45): START TRANSACTION;
2019-08-21 20:27:05,986 INFO 7112 [egg-sequelize](1ms) Executed (be5a76d2-f086-4aa9-918e-d171fe808f45): ROLLBACK;
2019-08-21 20:27:05,994 WARN 7112 [-/127.0.0.1/-/1ms GET /] nodejs.NotFoundError: Not Found
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at BuildingService.findAllFloors (D:\nodejs\nodejs\node_project\hospital\app\service\building.js:165:18)
message: "Not Found"
pid: 7112
hostname: LAPTOP-57LT11PC

2019-08-21 20:44:50,416 INFO 6216 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-08-21 20:45:27,039 INFO 6216 [egg-sequelize](1ms) Executed (8404d05e-ced7-4864-a47f-46efe32feb95): START TRANSACTION;
2019-08-21 20:45:27,100 INFO 6216 [egg-sequelize](5ms) Executed (8404d05e-ced7-4864-a47f-46efe32feb95): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`id` = '69938d00c40c11e9be2b9521695ac21c';
2019-08-21 20:45:27,151 INFO 6216 [egg-sequelize](3ms) Executed (8404d05e-ced7-4864-a47f-46efe32feb95): UPDATE `floors` SET `name`='4',`photoUrl`='\\public\\image\\hosptial\\building\\floors\\1566391532725.jpg' WHERE `id` = '69938d00c40c11e9be2b9521695ac21c'
2019-08-21 20:45:27,363 INFO 6216 [egg-sequelize](205ms) Executed (8404d05e-ced7-4864-a47f-46efe32feb95): COMMIT;
2019-08-21 20:45:29,383 INFO 6216 [egg-sequelize](1ms) Executed (52ea7f70-9a5c-41a5-8a57-44f8ceec3513): START TRANSACTION;
2019-08-21 20:45:29,404 INFO 6216 [egg-sequelize](3ms) Executed (default): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`buildingId` = '1';
2019-08-21 20:45:29,427 INFO 6216 [egg-sequelize](1ms) Executed (52ea7f70-9a5c-41a5-8a57-44f8ceec3513): COMMIT;
2019-08-21 20:47:06,993 INFO 14404 [egg-sequelize](4ms) Executed (default): SELECT 1+1 AS result
2019-08-21 22:55:15,775 INFO 11320 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-21 22:55:17,614 INFO 1160 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-21 22:55:27,734 INFO 1160 [egg-sequelize](1ms) Executed (f7d42519-0604-4a42-bcd1-802c2ec4f6aa): START TRANSACTION;
2019-08-21 22:55:27,785 INFO 1160 [egg-sequelize](39ms) Executed (default): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`buildingId` = '1' ORDER BY `floor`.`name` DESC;
2019-08-21 22:55:27,789 INFO 1160 [egg-sequelize](1ms) Executed (f7d42519-0604-4a42-bcd1-802c2ec4f6aa): COMMIT;
2019-08-21 22:56:23,550 INFO 5220 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-21 22:56:24,222 INFO 5220 [egg-sequelize](1ms) Executed (13e139af-cd97-44bf-942d-5a8feb25979a): START TRANSACTION;
2019-08-21 22:56:24,235 INFO 5220 [egg-sequelize](2ms) Executed (default): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`buildingId` = '1' ORDER BY `floor`.`name` ASC;
2019-08-21 22:56:24,241 INFO 5220 [egg-sequelize](1ms) Executed (13e139af-cd97-44bf-942d-5a8feb25979a): COMMIT;
2019-08-21 22:56:30,766 INFO 14072 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-21 22:57:07,700 INFO 14072 [egg-sequelize](1ms) Executed (7ea66cf8-ecf0-4f66-b222-a7ceb0c3d56e): START TRANSACTION;
2019-08-21 22:57:07,711 INFO 14072 [egg-sequelize](2ms) Executed (7ea66cf8-ecf0-4f66-b222-a7ceb0c3d56e): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`id` = '69938d00c40c11e9be2b9521695ac21c';
2019-08-21 22:57:07,726 INFO 14072 [egg-sequelize](1ms) Executed (7ea66cf8-ecf0-4f66-b222-a7ceb0c3d56e): UPDATE `floors` SET `name`='4',`photoUrl`='\\public\\image\\hosptial\\building\\floors\\1566399427964.jpg' WHERE `id` = '69938d00c40c11e9be2b9521695ac21c'
2019-08-21 22:57:07,887 INFO 14072 [egg-sequelize](152ms) Executed (7ea66cf8-ecf0-4f66-b222-a7ceb0c3d56e): COMMIT;
2019-08-21 22:57:20,267 INFO 14072 [egg-sequelize](1ms) Executed (c97ad40c-4f9c-44a1-8550-e1c51cf36ef3): START TRANSACTION;
2019-08-21 22:57:20,271 INFO 14072 [egg-sequelize](1ms) Executed (c97ad40c-4f9c-44a1-8550-e1c51cf36ef3): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`id` = '69938d00c40c11e9be2b9521695ac21c';
2019-08-21 22:57:20,288 INFO 14072 [egg-sequelize](1ms) Executed (c97ad40c-4f9c-44a1-8550-e1c51cf36ef3): UPDATE `floors` SET `name`='4',`photoUrl`='\\public\\image\\hosptial\\building\\floors\\1566399441442.jpg' WHERE `id` = '69938d00c40c11e9be2b9521695ac21c'
2019-08-21 22:57:20,503 INFO 14072 [egg-sequelize](205ms) Executed (c97ad40c-4f9c-44a1-8550-e1c51cf36ef3): COMMIT;
2019-08-21 22:59:42,779 INFO 14072 [egg-sequelize](0ms) Executed (2a0129d5-d256-475e-8fb5-59f4c6737894): START TRANSACTION;
2019-08-21 22:59:42,784 INFO 14072 [egg-sequelize](1ms) Executed (2a0129d5-d256-475e-8fb5-59f4c6737894): SELECT `id`, `name`, `photoUrl`, `buildingId` FROM `floors` AS `floor` WHERE `floor`.`id` = '69938d00c40c11e9be2b9521695ac21c';
2019-08-21 22:59:42,788 INFO 14072 [egg-sequelize](1ms) Executed (2a0129d5-d256-475e-8fb5-59f4c6737894): DELETE FROM `floors` WHERE `id` = '69938d00c40c11e9be2b9521695ac21c' LIMIT 1
2019-08-21 22:59:42,920 INFO 14072 [egg-sequelize](130ms) Executed (2a0129d5-d256-475e-8fb5-59f4c6737894): COMMIT;
2019-08-21 23:00:05,039 INFO 14072 [egg-sequelize](0ms) Executed (79ddb9a7-4e72-4fcb-9356-79a279cf14fb): START TRANSACTION;
2019-08-21 23:00:05,044 INFO 14072 [egg-sequelize](1ms) Executed (79ddb9a7-4e72-4fcb-9356-79a279cf14fb): INSERT INTO `floors` (`id`,`name`,`photoUrl`,`buildingId`) VALUES ('5bda4a10c42411e9b1eb6bbeb6285afc','4','\\public\\image\\hosptial\\building\\floors\\1566399610783.jpg','1');
2019-08-21 23:00:05,176 INFO 14072 [egg-sequelize](130ms) Executed (79ddb9a7-4e72-4fcb-9356-79a279cf14fb): COMMIT;
2019-08-21 23:01:38,986 INFO 14072 [egg-sequelize](0ms) Executed (94e67b0a-4816-440c-909a-a94a16a921d4): START TRANSACTION;
2019-08-21 23:01:38,998 INFO 14072 [egg-sequelize](3ms) Executed (default): SELECT `building`.`id`, `building`.`name`, `building`.`photoUrl`, `building`.`isMain`, `floors`.`id` AS `floors.id`, `floors`.`name` AS `floors.name`, `floors`.`photoUrl` AS `floors.photoUrl`, `floors`.`buildingId` AS `floors.buildingId` FROM `buildings` AS `building` LEFT OUTER JOIN `floors` AS `floors` ON `building`.`id` = `floors`.`buildingId` WHERE `building`.`id` = '1';
2019-08-21 23:01:39,021 INFO 14072 [egg-sequelize](1ms) Executed (94e67b0a-4816-440c-909a-a94a16a921d4): DELETE FROM `floors` WHERE `id` = '3ba6ce70c40c11e9be2b9521695ac21c' LIMIT 1
2019-08-21 23:01:39,037 INFO 14072 [egg-sequelize](1ms) Executed (94e67b0a-4816-440c-909a-a94a16a921d4): DELETE FROM `floors` WHERE `id` = '55bf8fe0c40c11e9be2b9521695ac21c' LIMIT 1
2019-08-21 23:01:39,052 INFO 14072 [egg-sequelize](1ms) Executed (94e67b0a-4816-440c-909a-a94a16a921d4): DELETE FROM `floors` WHERE `id` = '5bda4a10c42411e9b1eb6bbeb6285afc' LIMIT 1
2019-08-21 23:01:39,055 INFO 14072 [egg-sequelize](1ms) Executed (94e67b0a-4816-440c-909a-a94a16a921d4): DELETE FROM `buildings` WHERE `id` = '1' LIMIT 1
2019-08-21 23:01:39,186 INFO 14072 [egg-sequelize](116ms) Executed (94e67b0a-4816-440c-909a-a94a16a921d4): COMMIT;
2019-08-21 23:03:42,478 INFO 1160 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-21 23:04:28,008 INFO 10944 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-21 23:15:57,622 INFO 9948 [egg-sequelize](2ms) Executed (default): SELECT 1+1 AS result
2019-08-22 23:15:59,617 INFO 1332 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-22 23:19:15,562 INFO 1332 [egg-sequelize](0ms) Executed (3fbb96b2-25d3-4b6b-be03-763c824024cc): START TRANSACTION;
2019-08-22 23:19:15,574 INFO 1332 [egg-sequelize](1ms) Executed (3fbb96b2-25d3-4b6b-be03-763c824024cc): INSERT INTO `buildings` (`id`,`name`,`photoUrl`,`isMain`) VALUES ('3407eac0c4f011e9bbbc452598c50687','4','\\public\\image\\hosptial\\building\\1566487162224.jpg',false);
2019-08-22 23:19:15,792 INFO 1332 [egg-sequelize](210ms) Executed (3fbb96b2-25d3-4b6b-be03-763c824024cc): COMMIT;
2019-08-22 23:20:20,748 INFO 11132 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-22 23:20:32,347 WARN 11132 [-/127.0.0.1/-/0ms GET /] nodejs.BadRequestError: Can't found upload file
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at Object.getFileStream (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\extend\context.js:199:19)
    at process._tickCallback (internal/process/next_tick.js:68:7)
message: "Can't found upload file"
pid: 11132
hostname: LAPTOP-57LT11PC

2019-08-22 23:20:59,409 WARN 11132 [-/127.0.0.1/-/0ms GET /] nodejs.BadRequestError: Can't found upload file
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at Object.getFileStream (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\extend\context.js:199:19)
    at process._tickCallback (internal/process/next_tick.js:68:7)
message: "Can't found upload file"
pid: 11132
hostname: LAPTOP-57LT11PC

2019-08-22 23:21:49,579 WARN 11132 [-/127.0.0.1/-/0ms GET /] nodejs.BadRequestError: Can't found upload file
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at Object.getFileStream (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\extend\context.js:199:19)
    at process._tickCallback (internal/process/next_tick.js:68:7)
message: "Can't found upload file"
pid: 11132
hostname: LAPTOP-57LT11PC

2019-08-22 23:22:53,051 INFO 13196 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-22 23:23:05,413 INFO 5852 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-22 23:23:12,830 WARN 5852 [-/127.0.0.1/-/0ms GET /] nodejs.BadRequestError: Can't found upload file
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at Object.getFileStream (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\extend\context.js:199:19)
    at process._tickCallback (internal/process/next_tick.js:68:7)
message: "Can't found upload file"
pid: 5852
hostname: LAPTOP-57LT11PC

2019-08-22 23:23:24,897 INFO 5280 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-22 23:23:32,046 INFO 5528 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-22 23:23:58,859 INFO 11764 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-22 23:24:00,539 WARN 11764 [-/127.0.0.1/-/0ms GET /] nodejs.BadRequestError: Can't found upload file
    at Object.throw (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\lib\context.js:97:11)
    at Object.getFileStream (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-multipart\app\extend\context.js:199:19)
    at process._tickCallback (internal/process/next_tick.js:68:7)
message: "Can't found upload file"
pid: 11764
hostname: LAPTOP-57LT11PC

2019-08-22 23:32:30,658 INFO 2464 [egg-sequelize](0ms) Executed (default): SELECT 1+1 AS result
2019-08-22 23:32:37,976 ERROR 2464 [-/127.0.0.1/-/1ms GET /] nodejs.TypeError: Cannot read property '0' of undefined
    at BuildingController.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:92:41)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at limit (D:\nodejs\nodejs\node_project\hospital\app\middleware\limit.js:32:11)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at i18n (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-i18n\app\middleware\i18n.js:13:12)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\node_modules\koa-compose\index.js:42:32)

pid: 2464
hostname: LAPTOP-57LT11PC

2019-08-22 23:32:59,862 INFO 10272 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-22 23:33:05,384 ERROR 10272 [-/127.0.0.1/-/0ms GET /] nodejs.TypeError: Cannot read property '0' of undefined
    at BuildingController.updateBuilding (D:\nodejs\nodejs\node_project\hospital\app\controller\building.js:92:35)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\utils\index.js:44:21)
    at Object.classControllerMiddleware (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-core\lib\loader\mixin\controller.js:87:20)
    at Object.callFn (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\utils.js:12:21)
    at wrappedController (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\egg_router.js:322:18)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at limit (D:\nodejs\nodejs\node_project\hospital\app\middleware\limit.js:32:11)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at next (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:45:18)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:190:18
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:44:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\koa-compose\index.js:36:12
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\@eggjs\router\lib\router.js:195:33)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\app\middleware\error_handler.js:9:13
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at D:\nodejs\nodejs\node_project\hospital\node_modules\egg-development\app\middleware\egg_loader_trace.js:9:56
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at i18n (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-i18n\app\middleware\i18n.js:13:12)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\koa\node_modules\koa-compose\index.js:42:32)
    at dispatch (D:\nodejs\nodejs\node_project\hospital\node_modules\egg-security\node_modules\koa-compose\index.js:42:32)

pid: 10272
hostname: LAPTOP-57LT11PC

2019-08-22 23:34:26,644 INFO 8944 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-22 23:34:29,917 INFO 12392 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
2019-08-22 23:36:42,979 INFO 4864 [egg-sequelize](1ms) Executed (default): SELECT 1+1 AS result
